"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6860],{73657:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(10434),o=a.n(n),r=a(67294),i=a(83355),s=a(28992);class m extends i.Z{renderComponent(){return r.createElement(s.Z,o()({},this.props,{style:{background:"none",borderBottom:"none",boxShadow:"",marginTop:2,marginBottom:6,paddingTop:4,paddingBottom:4,minHeight:"none",...this.props.style}}))}}m.displayName="CaptionMenuItem";const l=m},46611:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Z});var n=a(10434),o=a.n(n),r=a(23174),i=a.n(r),s=a(67294),m=a(480),l=a(86628),d=a(24405),u=a(15145),c=a(5366),g=a(75018),p=a(73744),v=a(87279),f=a(73657),h=a(78140),S=a(32163),b=a(11470),T=a(72495),y=a(82990),M=a(50906),B=a(3418),w=a(76798),O=a(66580),k=a(69814),_=a(93686);function C(e){window.__c={n:"TeamMenuHeader"};const{teamStore:t}=e,a=(0,m.O7)(),n=(0,l.VK)((()=>t.getUserIdsInTeam().length),[t]),o=function(){const e=(0,m.O7)();return(0,d.yK)((t=>({headerWrap:{display:"flex",marginLeft:12,marginRight:12,alignItems:"center",...e.device.isMobile&&{paddingTop:12,paddingBottom:8}},teamNameContainer:{marginRight:10,flexGrow:1,flexShrink:0,lineHeight:"1em"},teamName:{fontSize:12,fontWeight:y.Z.fontWeight.semibold,maxWidth:180,marginRight:4,alignSelf:"center",...y.Z.textOverflowStyle},teamNameAndSettings:{display:"flex"},icon:{marginRight:10,marginTop:2},memberCount:{fontSize:12,color:t.lightTextColor}})),[e])}();return s.createElement(s.Fragment,null,i()("div",{style:o.headerWrap},void 0,i()(_.p,{disabled:!0,store:t,size:28,style:o.icon}),i()("div",{style:o.teamNameContainer},void 0,i()("div",{style:o.teamNameAndSettings},void 0,i()(w.Z,{store:t,style:o.teamName}),i()(O.OutlinerTeamOverflow,{teamStore:t,onPopupClick:()=>{B.Z.addNamedPopup("team_more_actions"),M.QkQ(a,{store:t,from:"team_menu_header"})},onPopupClose:()=>{B.Z.removeNamedPopup("team_more_actions")},from:"team_menu_header",hideJoin:!0})),i()("div",{style:o.memberCount},void 0,i()(c.FormattedMessage,{defaultMessage:"{numberOfMembers, plural, one {{numberOfMembers} member} other {{numberOfMembers} members}}",values:{numberOfMembers:n},id:"teamMenuHeader.teamMemberCount"}))),i()(k.M,{teamStore:t,from:"team_breadcrumb_popup",navigateToTeamHomeOnJoin:!1})))}function Z(e){window.__c={n:"TeamBreadcrumbPopup"};const{teamStore:t,parent:a}=e,n=(0,m.O7)(),r=(0,l.VK)((()=>t.getTeamPagesStores().filter((e=>e.canRead()&&e.isNavigableBlock()))),[t]),y=function(){const e=(0,m.O7)();return(0,d.yK)((t=>({morePagesCaption:e.device.isMobile?{}:{marginTop:0,marginBottom:0}})),[e])}();return i()(h.Z,{menuType:n.device.isMobile?v.og.ActionSheet:v.og.Popup,minWidth:280,header:i()(T.Z,{extraTopPadding:!0},void 0,i()(C,{teamStore:t}))},void 0,i()(S.Z,{type:S.i.Vertical,initialFocus:void 0,sections:[{key:"pages",items:r.slice(0,7).map((e=>({key:e.id,render:t=>s.createElement(b.Z,o()({store:e,hidePath:!0},t)),action:t=>{const o=p.DJ(t.event);g.navigateToBlock({environment:n,store:e,openInNew:o,pageVisitSource:u.tY.Breadcrumb}),o||a.close()}}))),render:e=>s.createElement(T.Z,e,e.children,r.length>7&&i()(f.Z,{style:y.morePagesCaption,caption:i()(c.FormattedMessage,{defaultMessage:"{numberOfMorePages} more…",values:{numberOfMorePages:r.length-7},id:"TeamBreadcrumbPopup.morePages"})}))}]}))}},69814:(e,t,a)=>{a.d(t,{M:()=>w});var n=a(23174),o=a.n(n),r=a(10434),i=a.n(r),s=a(67294),m=a(480),l=a(86628),d=a(24405),u=a(82990),c=a(38755),g=a(95697),p=a(6617),v=a(71064),f=a(5366),h=a(80444),S=a(35817),b=a(89728);const T=function(e){window.__c={n:"TeamJoinButton"};const{teamStore:t,from:a,navigateToTeamHomeOnJoin:n,onJoinedTeam:r,style:i,hoveredStyle:d,icon:u,isRed:c}=e,g=(0,m.O7)(),p=(0,l.VK)((()=>h.default.state.currentSpaceStore),[]),v=(0,s.useCallback)((async()=>{p&&(await S.um({environment:g,teamStore:t,currentSpaceStore:p,from:a,andNavigateToTeamHome:n??!1}),null==r||r())}),[p,g,t,a,n,r]);return o()(b.Z,{style:i,hoveredStyle:d,onClick:v,icon:u,isRed:c},void 0,o()(f.FormattedMessage,{id:"outlinerTeamToggleButton.joinTeamButton",defaultMessage:"Join"}))};var y=a(22235),M=a(78504);const B=function(e){window.__c={n:"TeamRequestButton"};const{teamStore:t,style:a,hoveredStyle:n}=e,[r,i]=(0,s.useState)(!1),m=(0,l.VK)((()=>t.getName()),[t]);return s.createElement(s.Fragment,null,o()(b.Z,{style:a,hoveredStyle:n,onClick:()=>i(!0)},void 0,o()(f.FormattedMessage,{id:"teamRequestButton.requestButton.label",defaultMessage:"Request"})),o()(M.Z,{teamStore:t,teamName:m,teamId:t.id,isModalOpen:r,onDismiss:()=>i(!1)}))};function w(e){window.__c={n:"TeamJoinLeaveButton"};const{teamStore:t,style:a,hoveredStyle:n}=e,r=(0,m.O7)(),f=(0,p.Q)(),h=(0,v.e)(t),S=(0,l.VK)((()=>t.getTeamAccessLevel()),[t]),b=(0,d.yK)((e=>({joinTeamButton:{maxHeight:26,marginLeft:10,paddingLeft:10,paddingRight:10,borderRadius:100,fontSize:13,fontWeight:u.Z.fontWeight.semibold,background:e.buttonHoveredBackground,alignSelf:"center",...a},joinTeamButtonHoveredStyle:{background:e.buttonPressedBackground,...n}})),[a,n]),M=(0,l.VK)((()=>(0,g.Hu)({membership:t.getRawMembership()})&&(0,c.Fn)(r)),[r,t]),w=!h&&"open"===S||M,O=!h&&"closed"===S;return f?null:h?s.createElement(y.Z,i()({},e,{style:b.joinTeamButton,hoveredStyle:b.joinTeamButtonHoveredStyle})):w?s.createElement(T,i()({},e,{style:b.joinTeamButton,hoveredStyle:b.joinTeamButtonHoveredStyle})):O?o()(B,{teamStore:t,style:b.joinTeamButton,hoveredStyle:b.joinTeamButtonHoveredStyle}):null}},22235:(e,t,a)=>{a.d(t,{Z:()=>S});var n=a(10434),o=a.n(n),r=a(23174),i=a.n(r),s=a(67294),m=a(480),l=a(86628),d=a(36591),u=a(72126),c=a(64684),g=a(5366),p=a(80444);var v=a(35817),f=a(89728),h=a(26388);const S=function(e){window.__c={n:"TeamLeaveButton"};const{teamStore:t,from:a,onLeavingTeam:n,style:r,hoveredStyle:S,icon:b,isRed:T,placement:y,alignment:M,buttonInternals:B}=e,w=(0,m.O7)(),O=(0,l.VK)((()=>p.default.state.currentSpaceStore),[]),k=(0,s.useCallback)((async()=>{if(!O)return;await v.s({environment:w,teamStore:t,currentSpaceStore:O,from:a})&&(null==n||n())}),[O,w,t,a,n]),_=i()(g.FormattedMessage,{id:"teamJoinLeaveButton.leaveTeam.enabledTooltip",defaultMessage:"Click to leave teamspace"}),C=function(e){let{teamStore:t}=e;const a=(0,m.O7)().currentUser.id,{isDefaultTeam:n}=(0,l.VK)((()=>({isDefaultTeam:t.isDefault()})),[t]),o=function(e){const t=(0,l.VK)((()=>p.default.state.currentSpaceStore),[]);return(0,l.VK)((()=>e.isDefined()&&null!=t&&t.isDefined()?(0,c.x4)({members:e.getMembers(),groups:(null==t?void 0:t.getPermissionGroups())??[]}):[]),[e,t])}(t),r=(0,l.VK)((()=>a?o.filter((e=>{var t;return null===(t=e.user_ids)||void 0===t?void 0:t.includes(a)})):[]),[o,a]),s=(0,l.VK)((()=>{if(!t.isReady())return!1;const e=(0,c.XO)({membership:t.getMembers()});return 1===e.length&&e[0]===a}),[t,a]);return function(e){let{isDefaultTeam:t,isOnlyTeamOwner:a,userGroups:n}=e;if(t)return i()(g.FormattedMessage,{id:"teamBrowser.teamCard.leaveTeam.defaultTeamTooltip",defaultMessage:"You can’t leave this teamspace because everyone in the workspace must be a member"});if(a)return i()(g.FormattedMessage,{id:"teamJoinLeaveButton.leaveTeam.onlyOwnerTooltip",defaultMessage:"Invite another teamspace owner to leave this teamspace"});if(n.length>0)return i()(g.FormattedMessage,{id:"teamBrowser.teamCard.leaveTeam.groupTooltip",defaultMessage:"{groupNames, plural, one {You can't leave this teamspace because you're a member of multiple groups, {groupNames}.} other {You can't leave this teamspace because you're a member of the group, {groupNames}.}}",values:{groupNames:u.oA(n.map((e=>e.name))).join()}})}({isDefaultTeam:n,isOnlyTeamOwner:s,userGroups:r})}({teamStore:t}),Z=Boolean(C),K=Z?C:_;return i()(h.Z,{style:Z?{width:240}:void 0,disableTooltip:!Boolean(K),renderTooltip:e=>s.createElement("div",e,K),textWrap:Z,placement:y,alignment:M,render:e=>s.createElement(f.Z,o()({},e,{style:r,hoveredStyle:S,onClick:k,disabled:Z,disabledFeedback:Z,icon:b,isRed:T}),B||s.createElement(s.Fragment,null,(0,d.e)({width:12.5,marginRight:4}),i()(g.FormattedMessage,{id:"teamBrowser.teamCard.button.joined",defaultMessage:"Joined"})))})}},6617:(e,t,a)=>{a.d(t,{Q:()=>m});var n=a(480),o=a(86628),r=a(38755),i=a(80444),s=a(78291);function m(){const e=function(){const e=(0,n.O7)();return(0,o.VK)((()=>{const t=i.default.state.currentSpaceStore,a=s.default.state.data;return t?r.Cx(t)?a?{loading:!1,isUserTeamGuestOfSpace:r.di(e,a)}:{loading:!0}:{loading:!1,isUserTeamGuestOfSpace:!1}:{loading:!0}}),[e])}();return(0,o.VK)((()=>e.loading||e.isUserTeamGuestOfSpace),[e])}},71064:(e,t,a)=>{a.d(t,{e:()=>s});var n=a(480),o=a(86628),r=a(95697),i=a(80444);function s(e){const t=(0,n.O7)(),a=(0,o.VK)((()=>i.default.state.currentSpaceStore),[]);return(0,o.VK)((()=>(0,r.AL)({teamStore:e,spaceStore:a,userId:t.currentUser.id})),[a,t.currentUser.id,e])}},33052:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(49085),o=a(29369);class r extends n.default{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"member",isInviteTargetsEmpty:!0,table:o.e0,isFocused:!0,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const i=r},90334:(e,t,a)=>{a.d(t,{O:()=>r});var n=a(23174),o=a.n(n);a(67294);const r=(0,a(45238).I)("ellipsis",{viewBox:"0 0 16 16",svg:o()("path",{d:"M2.887 9.014c.273 0 .52-.064.738-.192.219-.132.394-.307.526-.526.133-.219.199-.46.199-.725 0-.405-.142-.747-.424-1.025a1.41 1.41 0 00-1.04-.417c-.264 0-.505.066-.724.198a1.412 1.412 0 00-.718 1.244c0 .265.064.506.192.725.132.219.307.394.526.526.219.128.46.192.725.192zm5.113 0a1.412 1.412 0 001.244-.718c.132-.219.198-.46.198-.725 0-.405-.14-.747-.423-1.025A1.386 1.386 0 008 6.129c-.264 0-.506.066-.725.198a1.412 1.412 0 00-.718 1.244c0 .265.064.506.192.725.132.219.308.394.526.526.22.128.46.192.725.192zm5.106 0c.265 0 .506-.064.725-.192.219-.132.394-.307.526-.526.133-.219.199-.46.199-.725 0-.405-.142-.747-.424-1.025a1.394 1.394 0 00-1.026-.417 1.474 1.474 0 00-1.265.718c-.127.218-.19.46-.19.724 0 .265.063.506.19.725.133.219.308.394.527.526.223.128.47.192.738.192z"})})}}]);