"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6580],{66580:(e,t,a)=>{a.r(t),a.d(t,{OutlinerTeamOverflow:()=>oe,TeamOverflowMenu:()=>se});var n=a(23174),i=a.n(n),o=a(10434),s=a.n(o),r=a(67294),l=a(480),d=a(86628),c=a(24405),m=a(85397),p=a(52867),u=a(9767),g=a(56666),f=a(88437),v=a(13797),T=a(19981),b=a(45238);const h=(0,b.I)("personAdmin",{viewBox:"0 0 15 16",svg:i()("path",{d:"M6.082 7.215a2.71 2.71 0 001.504-.438c.451-.296.811-.69 1.08-1.182a3.352 3.352 0 00.403-1.634 3.21 3.21 0 00-.403-1.6 3.059 3.059 0 00-1.08-1.141A2.776 2.776 0 006.082.796c-.547 0-1.048.143-1.504.43a3.153 3.153 0 00-1.087 1.156 3.195 3.195 0 00-.403 1.593 3.39 3.39 0 00.41 1.627c.269.487.629.88 1.08 1.175a2.71 2.71 0 001.504.438zm0-1.19c-.314 0-.606-.088-.875-.266a1.974 1.974 0 01-.636-.738 2.247 2.247 0 01-.239-1.046c0-.379.08-.718.24-1.019.159-.3.37-.538.635-.71.264-.179.556-.267.875-.267.319 0 .61.086.875.26.264.172.476.41.636.71.16.296.239.634.239 1.012 0 .387-.08.738-.24 1.053-.159.31-.37.556-.635.738a1.508 1.508 0 01-.875.273zm-4.266 7.54h5.948a3.113 3.113 0 01-.082-.752v-.43H1.59c-.082 0-.141-.014-.178-.041-.032-.027-.048-.073-.048-.137 0-.26.105-.56.315-.902.21-.342.512-.673.909-.992.4-.323.893-.59 1.476-.8.588-.213 1.26-.32 2.017-.32a5.648 5.648 0 011.92.328c.17-.42.466-.732.89-.937a6.605 6.605 0 00-1.313-.417 6.856 6.856 0 00-1.497-.157c-.92 0-1.75.139-2.488.417-.739.273-1.372.631-1.9 1.073-.525.442-.928.918-1.21 1.429-.279.51-.418.998-.418 1.463 0 .784.584 1.175 1.75 1.175zm6.843-.731c0 .438.091.804.274 1.1.182.297.469.58.861.848.392.274.907.588 1.545.944a.6.6 0 00.294.082.62.62 0 00.335-.082c.638-.36 1.153-.675 1.545-.944.392-.269.679-.551.861-.847.182-.297.274-.664.274-1.101v-2.468a.979.979 0 00-.137-.54c-.087-.141-.24-.26-.458-.355a17.47 17.47 0 00-.417-.15c-.182-.069-.38-.14-.595-.213-.21-.077-.403-.145-.581-.205a13.002 13.002 0 01-.403-.15 1.263 1.263 0 00-.417-.055c-.146 0-.292.028-.438.082-.077.028-.205.07-.383.13l-.574.198c-.205.073-.399.144-.58.212-.183.064-.32.114-.411.15-.219.096-.374.215-.465.356a1.02 1.02 0 00-.13.54v2.468zm2.598 1.326a.601.601 0 01-.212-.04.416.416 0 01-.178-.124l-1.155-1.244a.671.671 0 01-.096-.178.492.492 0 01-.034-.178c0-.145.048-.264.144-.355a.492.492 0 01.341-.13.485.485 0 01.363.15l.793.869 1.613-2.229a.484.484 0 01.41-.219c.132 0 .246.048.342.144.1.091.15.205.15.342 0 .04-.009.086-.027.136a.463.463 0 01-.075.15l-1.983 2.722c-.086.123-.218.184-.396.184z"})});var w=a(47453);const S=(0,b.I)("restore",{viewBox:"0 0 18 15",svg:i()("path",{d:"M8.61427 3.17871C8.292 3.17871 8.02833 3.43506 8.02833 3.75732L8.02833 7.84424C8.02833 8.0127 8.0796 8.15918 8.20411 8.32031L10.0132 10.708C10.2549 11.0229 10.5918 11.0742 10.8921 10.8691C11.1631 10.6787 11.1851 10.3345 10.9653 10.0342L8.52638 6.74561L9.19288 8.79639L9.19288 3.75732C9.19288 3.43506 8.93654 3.17871 8.61427 3.17871ZM8.89259 0C5.28907 0 2.22755 2.62939 1.56105 6.05713L0.521008 6.05713C-0.00633599 6.05713-0.138172 6.41602 0.147473 6.82617L1.7881 9.15527C2.0298 9.49219 2.38136 9.48486 2.61573 9.15527L4.25636 6.81885C4.53468 6.41602 4.40284 6.05713 3.88282 6.05713L2.82814 6.05713C3.45802 3.28857 5.91896 1.25244 8.89259 1.25244C10.98 1.25977 12.811 2.26318 13.9317 3.82324C14.1514 4.12354 14.5029 4.21875 14.8032 4.02832C15.1035 3.85254 15.1841 3.44971 14.9351 3.12744C13.5435 1.25977 11.3609 0 8.89259 0ZM8.89259 14.9414C12.4961 14.9414 15.5576 12.3047 16.2241 8.88428L17.2568 8.88428C17.7842 8.88428 17.9234 8.52539 17.6304 8.11523L15.9971 5.78613C15.7554 5.44922 15.4038 5.45654 15.1694 5.78613L13.5288 8.12256C13.2432 8.52539 13.3823 8.88428 13.9024 8.88428L14.9644 8.88428C14.3272 11.6455 11.8589 13.6963 8.89259 13.6963C6.80519 13.689 4.97413 12.6782 3.85353 11.1182C3.62648 10.8179 3.28224 10.7227 2.97462 10.9058C2.68165 11.0889 2.60109 11.4917 2.85011 11.814C4.24171 13.6816 6.42433 14.9414 8.89259 14.9414Z"})});var y=a(5108),M=a(64684),C=a(97880),A=a(5366),I=a(62967),O=a(50906),k=a(37181),P=a(43250),B=a(87279),L=a(35026);function D(e){let{adminStatus:t,accessLevel:a,isArchivedTeam:n}=e;if("adminThatCanPerformPrivilegedActions"===t)return new Set(["join","joinAsOwner"]);if(n)switch(t){case"none":return new Set;case"admin":return new Set("open"===a?["join"]:[]);default:(0,C.t1)(t)}switch(a){case"open":return new Set(["join"]);case"closed":case"private":return new Set;default:(0,C.t1)(a)}}var V=a(95697),K=a(45660),Z=a(62837),x=a(63409),_=a(25223),N=a(35901),j=a(71064),F=a(46740),z=a(77907),U=a(80444),W=a(61766),E=a(48690),H=a(33052),J=a(73466),R=a(35817),$=a(93405),G=a(48019),Y=a(64921),q=a(31945),X=a(78140),Q=a(72495),ee=a(26388);const te=["addPages","join","view","add","duplicate","leave","archive","restore"],ae=["addPages","add"],ne=["join","joinAsOwner","upgradeSelfToOwner","leave"],ie=(0,A.defineMessages)({add:{defaultMessage:"Add members",id:"sidebar.outlinerTeamToggleButton.addLabel"},leave:{defaultMessage:"Leave teamspace",id:"sidebar.outlinerTeamToggleButton.leaveLabel"},joinAsOwner:{defaultMessage:"Join as owner",id:"sidebar.outlinerTeamToggleButton.joinAsOwnerLabel"},joinAsMember:{defaultMessage:"Join as member",id:"sidebar.outlinerTeamToggleButton.joinAsMemberLabel"},joinTeamspace:{defaultMessage:"Join teamspace",id:"sidebar.outlinerTeamToggleButton.joinLabel"},upgradeSelfToOwner:{defaultMessage:"Become owner",id:"sidebar.outlinerTeamToggleButton.upgradeSelfToOwnerLabel"},archive:{defaultMessage:"Archive teamspace",id:"sidebar.outlinerTeamToggleButton.archiveLabel"},restore:{defaultMessage:"Restore teamspace",id:"outlinerTeamOverflow.teamActions.restoreLabel"},duplicate:{defaultMessage:"Duplicate teamspace",id:"sidebar.outlinerTeamToggleButton.duplicateLabel"},teamspaceSettings:{defaultMessage:"Teamspace settings",id:"sidebar.outlinerTeamToggleButton.ownerViewLabel"},viewMembers:{defaultMessage:"View members",id:"sidebar.outlinerTeamToggleButton.unjoinedMemberViewLabel"},appTemplates:{defaultMessage:"Add pages",id:"sidebar.outlinerTeamToggleButton.addPages"}});function oe(e){let{teamStore:t,style:a,from:n,hideJoin:o,onPopupClick:m,onPopupClose:p}=e;window.__c={n:"OutlinerTeamOverflow"};const u=(0,l.Fy)(),f=(0,A.useIntl)(),v=(0,d.qz)(void 0,H.Z),T=(0,d.VK)((()=>U.default.state.currentSpaceStore),[]),b=(0,d.qz)(void 0,W.Z),h=(0,c.yK)((e=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:3,height:20,width:20,...a},icon:{fill:e.sidebarTextColor,width:14,height:14}})),[a]),w=f.formatMessage({defaultMessage:"Teamspace settings and members...",id:"sidebar.outlinerTeamToggleButton.tooltip"});return T?u.isMobile?null:r.createElement(r.Fragment,null,i()(ee.Z,{textWrap:!1,renderTooltip:()=>w,placement:ee.Z.Placement.Bottom,render:e=>i()(q.ZP,{popupType:q.Z4.Popup,buttonPopupStore:b,alignmentToOrigin:q.vR.Start,originGap:2,renderOrigin:t=>r.createElement(Y.Z,s()({ariaLabel:w,className:P.qxR,style:h.buttonStyle,mobileFeedback:!1},e,t),(0,g.o)(h.icon)),render:e=>i()(se,{teamStore:t,permissionsInviteStore:v,onDismiss:e.close,from:n,hideJoin:o,buttonPopupStore:b}),onClick:m,onClose:p})}),i()(z.LazyTeamPermissionsInviteWithModal,{permissionsInviteStore:v,store:t})):null}function se(e){window.__c={n:"TeamOverflowMenu"};const{teamStore:t,permissionsInviteStore:a,onDismiss:n,from:o,hideJoin:g,buttonPopupStore:b}=e,z=(0,c.Fg)(),W=(0,l.O7)(),H=(0,c.yK)((()=>({menuItemButton:{minWidth:200},caption:{minWidth:230}})),[]),Y=(0,d.VK)((()=>U.default.state.currentSpaceStore),[]),q=(0,j.e)(t),oe=(0,d.VK)((()=>(0,M.m4)({archived_by:t.getArchivedBy()})),[t]),se=W.currentUser.id,le=(0,d.VK)((()=>se?(0,M.Rk)({userId:se,team:{is_default:t.isDefault(),membership:t.getRawMembership()},space:{permissions:null==Y?void 0:Y.getPermissionItems(),permission_groups:null==Y?void 0:Y.getPermissionGroups()}}):"none"),[Y,se,t]),de=(0,d.VK)((()=>!(!t.isDefined()||!se)&&(0,M.pd)({membership:t.getMembers()},se)),[se,t]),ce=(0,N.y)(t.id),me=(0,Z.e)(t),{id:pe,name:ue,isDefault:ge}=(0,d.VK)((()=>({id:t.id,name:t.getName(),isDefault:t.isDefault()})),[t]),fe=(0,x.n)(Y),ve=(0,d.VK)((()=>(0,V.Xq)({environment:W,spaceStore:Y})),[Y,W]),Te=(0,_.r)(o),{accessLevel:be,settings:he}=(0,d.VK)((()=>({accessLevel:t.getTeamAccessLevel(),settings:t.getSettings()})),[t]),we=(0,K.D)()&&(0,M.Ue)(be,he),Se=(0,r.useCallback)((e=>{O.zah(W,{store:t,from:o,option:e})}),[W,t,o]),ye=ce&&!fe,Me=(0,d.VK)((()=>Boolean(null==Y?void 0:Y.canAdmin())),[Y]),{joinLeaveOptionsToShow:Ce,leaveOptionDisabledState:Ae}=function(e){let{teamRole:t,adminStatus:a,isDefaultTeam:n,accessLevel:i,isArchivedTeam:o}=e;switch(t){case"owner":case"member":const e=new Set,s=!o;return s&&e.add("leave"),"owner"!==t&&"adminThatCanPerformPrivilegedActions"===a&&e.add("upgradeSelfToOwner"),{joinLeaveOptionsToShow:e,leaveOptionDisabledState:s&&n?{disabled:!0,disabledReasonKey:"defaultTeam"}:void 0};case"team_level_guest":return{joinLeaveOptionsToShow:new Set,leaveOptionDisabledState:void 0};case"none":return{joinLeaveOptionsToShow:D({adminStatus:a,accessLevel:i,isArchivedTeam:o}),leaveOptionDisabledState:void 0};default:(0,C.t1)(t)}}({teamRole:le,adminStatus:Te?"adminThatCanPerformPrivilegedActions":Me?"admin":"none",isArchivedTeam:oe,isDefaultTeam:ge,accessLevel:be}),Ie=(0,F.Z)({teamStore:t,from:"sidebar_team_overflow"}),Oe=(0,d.VK)((()=>(0,L.si)({environment:W,teamStore:t})),[W,t]),ke=Ce.has("joinAsOwner"),Pe=Te&&!(1===Ce.size&&Ce.has("leave")),Be={add:{type:"action",show:!oe&&me,handle:()=>{a.update((e=>({...e,modalOpen:!0})))},title:ie.add,icon:(0,m.a)({width:17})},leave:{type:"action",...Pe&&{colorOverride:z.redBadgeBackground},show:Ce.has("leave"),handle:()=>{R.s({environment:W,teamStore:t,currentSpaceStore:Y,from:o})},title:ie.leave,disabled:Boolean(null==Ae?void 0:Ae.disabled),icon:(0,T.V)({width:17}),disabledTooltipText:"defaultTeam"===(null==Ae?void 0:Ae.disabledReasonKey)&&i()(A.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.cannotLeaveDefaulTeamTooltip",defaultMessage:"Cannot leave a default teamspace"})},join:{type:"action",show:!g&&Ce.has("join"),handle:async()=>{if(Y)switch(be){case"open":await R.um({environment:W,teamStore:t,currentSpaceStore:Y,from:o,andNavigateToTeamHome:!1});break;case"closed":case"private":await R.wT({environment:W,teamStore:t,currentSpaceStore:Y,from:o,action:"joinClosedOrPrivateTeamAsMember"});break;default:(0,C.t1)(be)}},title:ke?ie.joinAsMember:ie.joinTeamspace,icon:(0,w.R)({width:17})},joinAsOwner:{type:"action",show:ke,handle:()=>R.wT({environment:W,teamStore:t,currentSpaceStore:Y,from:o,action:"joinTeamAsOwner"}),title:ie.joinAsOwner,icon:h({width:17})},upgradeSelfToOwner:{type:"action",show:Ce.has("upgradeSelfToOwner"),handle:()=>R.wT({environment:W,teamStore:t,currentSpaceStore:Y,from:o,action:"upgradeToOwner"}),title:ie.upgradeSelfToOwner,icon:h({width:17})},archive:{type:"action",show:!oe&&de,colorOverride:z.redBadgeBackground,handle:()=>{!ye&&R.aQ({teamStore:t,environment:W,from:o})},title:ie.archive,disabled:ye,disabledTooltipText:i()("div",{style:{whiteSpace:"normal"}},void 0,i()(A.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.cannotArchiveTooltip.moreThanOneMember",defaultMessage:"There must only be one member in the workspace to archive this teamspace"})),icon:(0,p.H)({width:17})},restore:{type:"action",show:oe,handle:()=>{de&&R.YH({environment:W,teamStore:t,teamName:ue,from:o})},title:ie.restore,icon:S({width:17}),disabled:!de,disabledTooltipText:i()(A.FormattedMessage,{id:"outlinerTeamOverflow.restoreArchivedTeam.disabledTooltipText",defaultMessage:"Only teamspace owners can restore archived teamspaces."})},duplicate:{type:"action",show:!oe&&ve,handle:()=>{J.tW({environment:W,teamStore:t,from:o,buttonPopupStore:b})},title:ie.duplicate,disabled:ge||we,icon:(0,f.a)({width:17}),disabledTooltipText:re({isDefault:ge,isTeamWithGatedFeaturesOnDowngradedPlan:we}),caption:i()(A.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.duplicateCaption",defaultMessage:"Duplicates permissions and other settings but not pages and members"})},view:{type:"action",show:!oe||"manage_teams_table"===o,handle:()=>R.RF({environment:W,teamId:pe,tab:E.a.Members,from:o}),title:q?ie.teamspaceSettings:ie.viewMembers,icon:q?(0,v.F)({width:15}):(0,y.n)({width:17})},addPages:{type:"extensionAction",show:"teamSidebar"===o&&Oe,title:ie.appTemplates,icon:(0,u.s)({width:17}),subActionSections:Ie}},Le=(Pe?[{sectionName:"join/leave section",orderedOptions:ne},{sectionName:"other actions",orderedOptions:te.filter((e=>!ne.includes(e)))}]:[{sectionName:"add section",orderedOptions:ae},{sectionName:"other actions section",orderedOptions:te.filter((e=>!ae.includes(e)))}]).map((e=>{const t=e.orderedOptions.filter((e=>Be[e].show));if(0!==t.length)return{sectionName:e.sectionName,filteredOptions:t}})).filter(C.$K).map((e=>{const t=e.filteredOptions.map((e=>{const t=Be[e],{type:a}=t;return"action"===a?(0,I.cN)({key:e,displayName:t.title,analyticsName:t.title.defaultMessage,svg:()=>t.icon,validators:[],closeParentMenu:!0,action:()=>{n(),Se(e),t.handle()},render:e=>i()(ee.Z,{placement:ee.Z.Placement.Left,textWrap:!1,disableTooltip:!(t.disabled&&t.disabledTooltipText),renderTooltip:()=>t.disabledTooltipText,render:a=>r.createElement($.Z,s()({},e,a,{svg:()=>t.icon,title:r.createElement(A.FormattedMessage,t.title),buttonStyle:{...H.menuItemButton,...!t.disabled&&t.colorOverride?{fill:t.colorOverride,color:t.colorOverride}:{fill:z.regularIconColor,color:z.regularTextColor}},disabled:t.disabled,disabledFeedback:t.disabled,caption:t.caption,captionStyle:H.caption,shouldWrapCaption:!0}))})}):"extensionAction"===a?(0,I.MV)({key:e,displayName:t.title,analyticsName:t.title.defaultMessage,svg:()=>t.icon,width:250,validators:[],subActions:()=>t.subActionSections.map((t=>({...t,actions:t.actions.map((t=>({...t,action:a=>{n(),Se(e),t.action(a)}})))})))}):void(0,C.t1)(a)}));return(0,I.$J)({key:e.sectionName,render:e=>r.createElement(Q.Z,e),actions:t})}));return(0,r.useEffect)((()=>{k.$n({environment:W,teamId:t.id})}),[W,t.id]),i()(X.Z,{className:P.Mdu,menuType:B.og.Popup,minWidth:"100%"},void 0,i()(G.Z,{context:{blocks:[],environment:W,publicEditMode:void 0},sections:Le,initialFocus:void 0}))}function re(e){let{isDefault:t,isTeamWithGatedFeaturesOnDowngradedPlan:a}=e;return t?i()(A.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.cannotDuplicateDefaultTeamspace",defaultMessage:"Cannot duplicate a default teamspace"}):a?i()(A.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.cannotDuplicateTeamspaceWithGatedFeaturesOnDowngradedAccount",defaultMessage:"Cannot duplicate a teamspace with settings only allowed on Business plans or above"}):void 0}},98481:(e,t,a)=>{a.d(t,{J:()=>l});var n=a(40506),i=a(97880);var o=a(78291),s=a(25225),r=a(35057);function l(e){let{environment:t}=e;const a=(0,r.zt)(),{data:l}=o.default.state,d=(0,s.XX)(l);return function(e){let{subscriptionTier:t,subscriptionCreatedAtTime:a}=e;return"enterprise"===t||"plus"===t&&(0,i.$K)(a)&&a<n.Xn}({subscriptionTier:a,subscriptionCreatedAtTime:null==d?void 0:d.created})}},45660:(e,t,a)=>{a.d(t,{D:()=>d,e:()=>l});var n=a(480),i=a(86628),o=a(98481),s=a(80444),r=a(35057);function l(){const{currentSpaceStore:e}=(0,i.Kw)(s.default);return(0,i.VK)((()=>{const t=null==e?void 0:e.getSubscriptionTier(),a=(0,r.zt)();return!("enterprise"===t||"business"===t||"enterprise"===a||"business"===a)}),[e])}function d(){const e=(0,n.O7)(),t=l();return(0,i.VK)((()=>t&&!(0,o.J)({environment:e})),[t,e])}},62837:(e,t,a)=>{a.d(t,{e:()=>l});var n=a(86628),i=a(97880),o=a(35057),s=a(71064),r=a(46874);function l(e){const t=(0,r.q)(e),a=(0,s.e)(e);return(0,n.VK)((()=>{if(!(0,o.Mk)())return!1;const n=e.getSetting("invite_access");switch(n){case void 0:return!1;case"team_members":return a;case"team_owners":return t;default:(0,i.t1)(n)}}),[e,t,a])}},63409:(e,t,a)=>{a.d(t,{n:()=>r});var n=a(480),i=a(86628),o=a(64684),s=a(30397);function r(e){const t=(0,n.O7)();return(0,i.VK)((()=>{const a=s.Z.state.teams.map((e=>({membership:e.getMembers(),id:e.id,archived_by:e.getArchivedBy(),is_default:e.isDefault()}))),n=t.currentUser.id;return!(!n||!e)&&(0,o.wN)({spaceValue:{permissions:e.getPermissionItems(),permission_groups:e.getPermissionGroups()},teamsInSpace:a,currentUserId:n})}),[t,e])}},35901:(e,t,a)=>{a.d(t,{y:()=>o});var n=a(86628),i=a(30397);function o(e){const[t]=(0,n.AF)(i.Z);return(0,n.VK)((()=>{if(!e)return!1;const a=t.teams.filter((e=>e.isDefault()&&!e.isArchived()));return 1===a.length&&a[0].id===e}),[t,e])}},46874:(e,t,a)=>{a.d(t,{q:()=>s});var n=a(480),i=a(86628),o=a(64684);function s(e){const t=(0,n.O7)();return(0,i.VK)((()=>{const a=t.currentUser.id;return!!(e&&e.isDefined()&&a)&&(0,o.pd)({membership:e.getMembers()},a)}),[t.currentUser.id,e])}},46740:(e,t,a)=>{a.d(t,{Z:()=>G,l:()=>E});var n=a(10434),i=a.n(n),o=a(23174),s=a.n(o),r=(a(57658),a(67294)),l=a(480),d=a(86628),c=a(24405),m=a(15145),p=a(45433),u=a(50265),g=a(9767),f=a(90334),v=a(5366),T=a(97880),b=a(82990),h=a(62967),w=a(50906),S=a(47307),y=a(89858),M=a(75018),C=a(74647),A=a(16854),I=a(93405),O=a(72495),k=a(64369),P=(a(74523),a(58449)),B=a(93959),L=a(4708),D=a(75081),V=a(35683),K=(a(18514),a(80444)),Z=a(35057),x=a(29949),_=a(77907);const N="more_templates",j=[p.Yb,p.tt,p.r,p.rK,p.KW,N],F=[p.Ll,p.r,N],z=(0,v.defineMessages)({moreTemplates:{id:"sidebar.addAPageButtonTeamToggle.moreTemplates",defaultMessage:"More templates"},browseTemplates:{id:"sidebar.addAPageButtonTeamToggle.browseTemplates",defaultMessage:"Browse templates"},blankPage:{id:"sidebar.addAPageButtonTeamToggle.addBlankPage",defaultMessage:"Blank page"},suggestedSection:{id:"sidebar.addAPageButtonTeamToggle.suggestedSection",defaultMessage:"Suggested"},suggestedTemplatesSection:{id:"sidebar.addAPageButtonTeamToggle.suggestedTemplatesSection",defaultMessage:"Suggested templates"}});function U(e){let{preset:t,databaseTypes:a}=e;const n=(0,p.Pi)(t);for(const i of n)if(a.has(i))return!0;return!1}function W(e){return e!==N&&"blank_page"!==e}async function E(e){let{environment:t,spaceId:a,presetUri:n,parentStore:i,teamId:o,from:r}=e;const l=await async function(e){let{environment:t,spaceId:a,presetUri:n,parentStore:i,teamId:o}=e;const s=a?await A.nc({environment:t,spaceId:a,databaseTypes:(0,p.Pi)(n),parentStore:i,teamId:o}):[];return 0===s.length?{shouldShowConfirmModal:!1}:{shouldShowConfirmModal:!0,existingDatabaseTypes:s}}({environment:t,spaceId:a,presetUri:n,parentStore:i,teamId:o}),{shouldShowConfirmModal:d}=l;if(!d)return!0;const{existingDatabaseTypes:c}=l;return new Promise((e=>{w.YnN(t,{from:r}),S.showDialog({handleCancel:()=>{w.nnP(t,{from:r,option:"no"}),e(!1)},showCancel:!0,keepFocus:!1,message:s()(H,{presetUri:n,existingDatabaseTypes:c}),description:false,items:[{label:s()(v.FormattedMessage,{id:"sidebar.appTemplate.confirmAdditionalAppTemplate.confirmAddAnyway.label",defaultMessage:"Add anyway"}),color:"red",onAccept:()=>{w.nnP(t,{from:r,option:"yes"}),e(!0)}}]})}))}function H(e){window.__c={n:"DialogMessage"};const{presetUri:t,existingDatabaseTypes:a}=e,n=(0,v.useIntl)(),i=(0,c.yK)((()=>({messageContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:12,marginTop:8,marginBottom:8},titleIcon:{height:38,width:38,color:"#D34F43"},confirmationTitle:{fontWeight:b.Z.fontWeight.medium,fontSize:18,textAlign:"center",marginTop:8,marginBottom:4},confirmationSubtitle:{fontSize:14,textAlign:"center"}})),[]),{title:o,icon:r}=J({presetUri:t,iconStyle:i.titleIcon});return s()("div",{style:i.messageContainer},void 0,r,s()(k.Z,{isMultiline:!0,style:i.confirmationTitle},void 0,s()(v.FormattedMessage,{id:"sidebar.appTemplate.confirmAdditionalAppTemplate",defaultMessage:"Are you sure you want to add another {templateName} template?",values:{templateName:o}})),s()(k.Z,{isMultiline:!0,style:i.confirmationSubtitle},void 0,a&&a.length>0?s()(v.FormattedMessage,{id:"sidebar.appTemplate.confirmAdditionalAppTemplate.existingAppsCaption",defaultMessage:"{existingDatabaseTypes} already exist in this teamspace. This template works best if there is only one per teamspace.",values:{existingDatabaseTypes:n.formatList(a.map((e=>(0,D.Mn)(e))))}}):s()(v.FormattedMessage,{id:"sidebar.appTemplate.confirmAdditionalAppTemplate.caption",defaultMessage:"{templateName} template works best if there is only one per teamspace.",values:{templateName:o}})))}function J(e){let{presetUri:t,iconStyle:a}=e;return(0,d.VK)((()=>({title:R(t),icon:$({presetUri:t,style:a})})),[a,t])}function R(e){return e===p.rK?s()(v.FormattedMessage,{id:"sidebar.addTemplateToExistingTeam.wiki",defaultMessage:"Wiki"}):(0,B.YC)((0,P.appPackageConfigs)(),e).name}function $(e){var t,a;let{presetUri:n,style:i}=e;return p.xm.includes(n)?null===(t=(a=u.y[n]).icon)||void 0===t?void 0:t.call(a,i):null}const G=function(e){const{teamStore:t,from:a}=e,n=(0,l.O7)(),o=(0,l.Fy)(),u=(0,d.VK)((()=>(0,L._i)()),[]),{spaceStore:b,spaceViewStore:S}=(0,d.VK)((()=>({spaceStore:K.default.state.currentSpaceStore,spaceViewStore:K.default.state.currentSpaceViewStore})),[]),A=(0,r.useCallback)((async e=>{const{appTemplatesSetupActions:i}=await _.deps.AppTemplates.loader();w.ZEy(n,{option:e,from:a});if(!(await E({presetUri:e,spaceId:t.getSpaceId(),environment:n,parentStore:t,teamId:t.id,from:a})))return;let o=!1;const s=[];if(b&&S){if((0,p.it)(e))o=await i.createWikiInTeam({environment:n,spaceStore:b,spaceViewStore:S,teamStore:t,appendOrPrepend:"append"}),s.push(o.id);else{const s=i.createTypedDBsInTeam({presetUri:e,spaceViewStore:S,environment:n,teamStore:t,from:a});s.length>0&&(o=s[0])}o&&M.navigateToBlock({environment:n,store:o,visitType:V.vu.Link,pageVisitSource:m.tY.Create})}}),[n,t,b,S,a]),P=(0,r.useCallback)((()=>{x.Z.open({analyticsFrom:a,cloneTo:"destination_picker",selectedTeam:t}),w.ZEy(n,{option:"more_templates",from:a})}),[n,t,a]),B=(0,r.useCallback)((()=>{b&&S&&(y.mv({environment:n,from:"sidebar_team_section",spaceStore:b,spaceViewStore:S,teamStore:t,andNavigate:!0,appendOrPrepend:"append"}),o.isMobile&&C.close(),w.ZEy(n,{option:"blank_page",from:a}))}),[o.isMobile,n,b,S,t,a]),D=(0,c.yK)((e=>({actionItemIcon:{fill:e.regularIconColor,width:16,height:16},actionItemIconGray:{fill:e.mediumIconColor,width:16,height:16},blankPageSection:{paddingTop:6,paddingBottom:0},blankPageWithBrowseTemplatesSection:{paddingTop:6,paddingBottom:6}})),[]),H={[p.Yb]:{handle:()=>A(p.Yb),...J({presetUri:p.Yb,iconStyle:D.actionItemIcon})},[p.tt]:{handle:()=>A(p.tt),...J({presetUri:p.tt,iconStyle:D.actionItemIcon})},[p.r]:{handle:()=>A(p.r),...J({presetUri:p.r,iconStyle:D.actionItemIcon})},[p.rK]:{handle:()=>A(p.rK),...J({presetUri:p.rK,iconStyle:D.actionItemIcon})},[p.KW]:{handle:()=>A(p.KW),...J({presetUri:p.KW,iconStyle:D.actionItemIcon})},[p.Ll]:{handle:()=>A(p.Ll),...J({presetUri:p.Ll,iconStyle:D.actionItemIcon})},more_templates:{handle:()=>P(),title:s()(k.Z,{isSecondaryColor:!0},void 0,r.createElement(v.FormattedMessage,z.moreTemplates)),icon:(0,f.O)(D.actionItemIconGray)}},R=(0,d.VK)((()=>u&&((0,Z.QM)()||(0,Z.Aw)())),[u])?F:j,$=(0,d.VK)((()=>{if(!u)return new Set;const e=R.filter(W);return function(e){let{teamStore:t,presets:a}=e;if(!t.getSpaceId())return new Set;const n=new Set;for(const s of t.getTeamPageStores()){var i;const e=null===(i=s.getCollectionStore())||void 0===i?void 0:i.getDatabaseType();e&&n.add(e)}const o=new Set;for(const s of a){U({preset:s,databaseTypes:n})&&o.add(s)}return o}({teamStore:t,presets:e})}),[t,R,u]),G=R.filter((e=>(e!==N||!o.isMobile)&&!(W(e)&&$&&$.has(e)))),Y=G.map((e=>{const t=H[e];return(0,h.cN)({key:e,displayName:void 0,analyticsName:e,validators:[],closeParentMenu:!0,action:()=>t.handle(),render:e=>r.createElement(I.Z,i()({},e,{svg:()=>t.icon,title:t.title}))})})).filter(T.$K),q=(0,h.cN)({key:"blank_page",displayName:z.blankPage,analyticsName:"blank_page",svg:()=>(0,g.s)(D.actionItemIcon),validators:[],closeParentMenu:!0,action:()=>B()});if(u){if(0===G.filter(W).length){const e=(0,h.cN)({key:"browse templates",displayName:void 0,analyticsName:"browseTemplates",validators:[],closeParentMenu:!0,action:()=>P(),render:e=>r.createElement(I.Z,i()({},e,{svg:()=>(0,f.O)(D.actionItemIconGray),title:s()(k.Z,{isSecondaryColor:!0},void 0,r.createElement(v.FormattedMessage,z.browseTemplates))}))});return[(0,h.$J)({key:"blank page with browse templates",render:e=>r.createElement(O.Z,i()({},e,{style:D.blankPageWithBrowseTemplatesSection})),actions:[q,e]})]}return[(0,h.$J)({key:"add blank page",render:e=>r.createElement(O.Z,i()({},e,{style:D.blankPageSection})),actions:[q]}),(0,h.$J)({key:"add app templates",title:z.suggestedTemplatesSection,overrideSearchTitle:z.suggestedTemplatesSection,render:e=>r.createElement(O.Z,e),actions:Y})]}{const e=(0,h.$J)({key:"add blank page",render:e=>r.createElement(O.Z,e),actions:[q]});return[(0,h.$J)({key:"add app templates",title:z.suggestedSection,overrideSearchTitle:z.suggestedSection,render:e=>r.createElement(O.Z,e),actions:Y}),e]}}},85397:(e,t,a)=>{a.d(t,{a:()=>o});var n=a(23174),i=a.n(n);a(67294);const o=(0,a(45238).I)("addPerson",{viewBox:"0 0 16 16",svg:i()("path",{d:"M9.48242 7.91211C10.8076 7.91211 11.8352 6.77783 11.8352 5.35718C11.8352 4.00391 10.7908 2.84717 9.48242 2.84717C8.17407 2.84717 7.12964 4.00952 7.13525 5.36279C7.14087 6.77783 8.16284 7.91211 9.48242 7.91211ZM9.48242 8.87231C8.7356 8.87231 8.04492 8.99585 7.44409 9.22046C8.23022 9.95044 8.72437 10.9836 8.72437 12.1235C8.72437 12.511 8.66821 12.8872 8.55591 13.2466H12.8684C13.969 13.2466 14.3171 12.8479 14.3171 12.2302C14.3171 10.804 12.3967 8.87231 9.48242 8.87231ZM4.74316 15.1895C6.42212 15.1895 7.80347 13.7969 7.80347 12.1235C7.80347 10.4558 6.42212 9.06885 4.74316 9.06885C3.06982 9.06885 1.68286 10.4558 1.68286 12.1235C1.68286 13.7969 3.06982 15.1895 4.74316 15.1895ZM4.74316 14.1675C4.41187 14.1675 4.18726 13.9429 4.18726 13.6172V12.6907H3.27197C2.94629 12.6907 2.72168 12.4661 2.71606 12.1292C2.71045 11.7979 2.93506 11.5732 3.27197 11.5732H4.18726V10.6636C4.18726 10.3379 4.41187 10.1133 4.74316 10.1077C5.08008 10.1021 5.30469 10.3267 5.30469 10.6636V11.5732H6.22559C6.55127 11.5732 6.77588 11.7979 6.77588 12.1292C6.77588 12.4661 6.55127 12.6907 6.22559 12.6907H5.30469V13.6172C5.30469 13.9429 5.08008 14.1675 4.74316 14.1675Z"})})},9767:(e,t,a)=>{a.d(t,{s:()=>o});var n=a(23174),i=a.n(n);a(67294);const o=(0,a(45238).I)("docBadgePlus",{viewBox:"0 0 16 16",svg:i()("path",{d:"M3.719 8.066c.105-.018.21-.03.316-.04a2.6 2.6 0 01.653 0c.11.01.22.022.33.04V2.509c0-.303.078-.538.237-.705.158-.167.397-.25.718-.25h2.808v3.612c0 .47.114.821.343 1.054.233.233.584.35 1.055.35h3.553v5.721c0 .303-.08.536-.238.699-.158.163-.397.244-.718.244H8.57c-.04.233-.1.457-.184.672-.08.22-.18.429-.304.627h4.8c.707 0 1.24-.185 1.601-.554.36-.365.54-.901.54-1.609V6.392a4.83 4.83 0 00-.052-.778 1.721 1.721 0 00-.204-.587 2.456 2.456 0 00-.436-.56L10.877.953a2.373 2.373 0 00-.54-.428A1.72 1.72 0 009.763.32a3.897 3.897 0 00-.725-.06H5.861c-.708 0-1.241.185-1.602.554-.36.365-.54.9-.54 1.608v5.643zM9.922 5.04V1.731l3.632 3.698h-3.25c-.136 0-.235-.03-.297-.092-.057-.062-.085-.16-.085-.297zM4.372 15.74c.456 0 .89-.09 1.298-.27.413-.176.775-.42 1.087-.732a3.36 3.36 0 00.739-1.088 3.2 3.2 0 00.27-1.305c0-.466-.09-.903-.27-1.312a3.432 3.432 0 00-1.813-1.82 3.284 3.284 0 00-1.312-.263c-.466 0-.903.088-1.312.264a3.38 3.38 0 00-1.08.738 3.433 3.433 0 00-.732 1.081c-.18.409-.27.846-.27 1.312 0 .466.09.903.27 1.312.175.409.42.769.731 1.08a3.38 3.38 0 001.081.74c.41.175.846.263 1.312.263zm0-1.246a.446.446 0 01-.33-.125.45.45 0 01-.119-.323v-1.253H2.671a.437.437 0 01-.323-.125.424.424 0 01-.126-.323c0-.136.042-.244.126-.323a.437.437 0 01.323-.125h1.252v-1.253c0-.132.04-.24.119-.323a.446.446 0 01.33-.125c.135 0 .243.042.322.125a.437.437 0 01.125.323v1.253h1.253c.132 0 .24.041.323.125.083.08.125.187.125.323a.424.424 0 01-.125.323.437.437 0 01-.323.125H4.819v1.253c0 .132-.041.24-.125.323a.424.424 0 01-.323.125z"})})},5108:(e,t,a)=>{a.d(t,{n:()=>o});var n=a(23174),i=a.n(n);a(67294);const o=(0,a(45238).I)("settingsMembers",{viewBox:"0 0 20 20",svg:i()("path",{d:"M13.726 9.989c1.725 0 3.123-1.585 3.123-3.536 0-1.92-1.39-3.453-3.123-3.453-1.712 0-3.124 1.556-3.124 3.468.008 1.943 1.405 3.52 3.123 3.52zm-8.264.171c1.504 0 2.716-1.392 2.716-3.111 0-1.675-1.212-3.03-2.716-3.03-1.49 0-2.724 1.378-2.717 3.037 0 1.72 1.22 3.104 2.717 3.104zm8.264-1.474c-.985 0-1.819-.967-1.819-2.225 0-1.213.827-2.159 1.819-2.159.998 0 1.818.93 1.818 2.151 0 1.25-.827 2.233-1.819 2.233zm-8.264.186c-.806 0-1.49-.803-1.49-1.816 0-.967.677-1.756 1.49-1.756.827 0 1.497.774 1.497 1.749 0 1.02-.684 1.823-1.497 1.823zM1.54 17h5.54c-.392-.238-.656-.782-.606-1.273H1.476c-.136 0-.193-.067-.193-.193 0-1.705 1.911-3.327 4.172-3.327.798 0 1.597.208 2.21.566.242-.365.542-.678.934-.946-.906-.58-2.032-.893-3.144-.893C2.438 10.934 0 13.182 0 15.653 0 16.546.513 17 1.54 17zm7.743 0h8.885C19.4 17 20 16.59 20 15.712c0-2.046-2.453-4.77-6.274-4.77-3.822 0-6.275 2.724-6.275 4.77 0 .879.599 1.288 1.832 1.288zm-.228-1.303c-.164 0-.228-.059-.228-.193 0-1.139 1.761-3.26 4.899-3.26 3.137 0 4.898 2.121 4.898 3.26 0 .134-.064.194-.235.194H9.055z"})})}}]);