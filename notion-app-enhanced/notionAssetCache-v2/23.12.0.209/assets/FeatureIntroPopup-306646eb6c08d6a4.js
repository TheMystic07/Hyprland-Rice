"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4843],{41458:(t,e,o)=>{o.r(e),o.d(e,{FeatureIntroPopup:()=>x,default:()=>S});var n=o(23174),i=o.n(n),r=o(67294),a=o(86628),l=o(24405),s=o(8848),d=o(66673),u=o(64275),g=o(64878),c=o(5366),p=o(82990),m=o(4023),h=o(80444),y=o(42922),f=o(73063),v=o(28451),b=o(89728),C=o(53437);const B=function(t){window.__c={n:"FeatureIntroContent"};const{imageSrc:e,imageStyles:o,title:n,subtitle:a}=t,s=(0,l.yK)((t=>({content:{padding:"0 24px",height:90},title:{fontSize:p.Z.fontSize.UIRegular.desktop,fontWeight:p.Z.fontWeight.semibold,marginBottom:5,marginTop:16},subtitle:{fontSize:p.Z.fontSize.UIRegular.desktop,color:t.mediumTextColor},image:{display:"flex",margin:"auto"},imageWrapper:{borderBottom:`1px solid ${t.lightDividerColor}`,display:"flex"}})),[]);return r.createElement(r.Fragment,null,i()("div",{style:s.imageWrapper},void 0,i()("img",{style:{...s.image,...o},src:e},e)),i()("div",{style:s.content},void 0,i()("div",{style:s.title},void 0,n),i()("div",{style:s.subtitle},void 0,a)))};const k=function(t){window.__c={n:"FeatureIntroInitialContent"};const e=(0,l.yK)((t=>({headerContainer:{display:"flex",marginTop:12,marginBottom:8,justifyContent:"center"},headerText:{fontWeight:p.Z.fontWeight.medium},iconContainer:{display:"flex",justifyContent:"center"},icon:{width:24,height:24,fill:t.mediumIconColor,marginTop:4},description:{fontSize:14,color:t.mediumTextColor,marginBottom:16,textAlign:"center"}})),[]);return r.createElement(r.Fragment,null,t.icon&&i()("div",{style:e.iconContainer},void 0,t.icon(t.iconStyle?t.iconStyle:e.icon)),i()("div",{style:e.headerContainer},void 0,i()("div",{style:e.headerText},void 0,t.header)),i()("div",{style:e.description},void 0,t.description))};function x(t){window.__c={n:"FeatureIntroPopup"};const{initialPromo:e,steps:o,isUserEligible:n=!0,seenFeatureUserSetting:x,userSettingsStore:S,allowExternalMouseEvents:I,onDismiss:F,onTryFeatureClick:w,onPopupSeen:M,onLearnMore:P,ctaMessage:T,calloutId:Z}=t,W=(0,c.useIntl)(),E=(0,l.yK)((t=>({popupContainer:{background:"light"===t.mode?t.contentBackground:t.sidebarBackground,borderRadius:8,width:320,padding:"20px 20px 16px",boxShadow:t.mediumBoxShadow},button:{display:"flex",alignItems:"center",justifyContent:"center"},dismissButton:{marginTop:10},closeButton:{position:"absolute",top:10,right:10,padding:0,borderRadius:"50%",height:24,width:24,background:t.buttonHoveredBackground},closeButtonHoveredStyle:{backgroundColor:t.buttonPressedBackground},closeButtonIcon:{width:14,height:14,fill:"light"===t.mode?s.FN.light.gray[400]:s.FN.dark.translucentGray[600]},backButton:{marginRight:8,fontWeight:p.Z.fontWeight.medium},nextButton:{fontWeight:p.Z.fontWeight.medium},inactiveDot:{fill:t.lightIconColor},dot:{width:6,height:6,marginRight:8},footer:{marginLeft:24,marginRight:24,marginBottom:16,marginTop:8,alignItems:"center",height:28,display:"flex"}})),[]),[L,R]=(0,r.useState)(0),_=(0,r.useCallback)((()=>{const t=null==S?void 0:S.getSettings();return!t||Boolean(!0===t[x])}),[x,S]),D=(0,a.VK)((()=>!_()&&n&&h.default.state.inAppCalloutStore.canShow(Z)||Boolean(t.forceShow)),[Z,_,n,t.forceShow]),z=(0,r.useCallback)((()=>{R(L+1),null==P||P()}),[L,P]),G=(0,d.D9)(D);return(0,r.useEffect)((()=>{D&&!G&&(null==M||M())}),[D,M,G]),i()(C.ZP,{popupType:C.ZP.PopupType.Popup,open:D,origin:i()("div",{style:{position:"absolute",bottom:52,right:0}}),placementToOrigin:m.u.Top,alignmentToOrigin:m.v.Center,originGap:15,disableMouseCapture:I,render:()=>{const t=0===L,n=t?r.createElement(k,e):r.createElement(B,o[L-1]),a=t?r.createElement(r.Fragment,null,i()(y.Z,{style:E.button,onClick:z,isLarge:!0},void 0,T||i()(c.FormattedMessage,{id:"FeatureIntroPopup.learnMore.text",defaultMessage:"Learn more"})),i()(b.Z,{onClick:F,isLightGray:!0,style:{...E.button,...E.dismissButton}},void 0,i()(c.FormattedMessage,{id:"FeatureIntroPopup.dismissButton.text",defaultMessage:"Dismiss"}))):i()("div",{style:E.footer},void 0,i()("div",{style:{display:"flex"}},void 0,[...Array(o.length)].map(((t,e)=>{let n=E.dot;return n=e===L-1?{...n}:{...n,...E.inactiveDot},e===o.length&&(n={...n,marginRight:0}),(0,g.h)(n)}))),i()("div",{style:{...E.button,marginLeft:"auto"}},void 0,L>1&&i()(b.Z,{onClick:()=>R(L-1),style:E.backButton,isGray:!0},void 0,i()(c.FormattedMessage,{id:"FeatureIntroPopup.backButton",defaultMessage:"Back"})),L<o.length&&i()(b.Z,{onClick:()=>R(L+1),style:E.nextButton,isBlue:!0},void 0,i()(c.FormattedMessage,{id:"FeatureIntroPopup.nextButton",defaultMessage:"Next"})),L===o.length&&i()(y.Z,{onClick:w},void 0,i()(c.FormattedMessage,{id:"FeatureIntroPopup.tryItOut.button",defaultMessage:"Try it out"}))));return i()(v.P,{calloutId:Z},void 0,n,i()(f.Z,{icon:u.D,style:E.closeButton,hoveredStyle:E.closeButtonHoveredStyle,iconStyle:E.closeButtonIcon,disableBackground:!0,onClick:F,ariaLabel:W.formatMessage({id:"FeatureIntroPopup.closeButton.ariaLabel",defaultMessage:"Close"})}),a)},style:0===L?E.popupContainer:{...E.popupContainer,padding:void 0}})}const S=x}}]);