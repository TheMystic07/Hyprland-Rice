"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[6580],{66580:(e,t,a)=>{a.r(t),a.d(t,{OutlinerTeamOverflow:()=>oe,TeamOverflowMenu:()=>se});var n=a(23174),i=a.n(n),o=a(10434),s=a.n(o),r=a(67294),l=a(480),d=a(86628),c=a(24405),m=a(85397),p=a(52867),u=a(9767),g=a(56666),v=a(88437),f=a(13797),h=a(19981),b=a(45238);const T=(0,b.I)("personAdmin",{viewBox:"0 0 15 16",svg:i()("path",{d:"M6.082 7.215a2.71 2.71 0 001.504-.438c.451-.296.811-.69 1.08-1.182a3.352 3.352 0 00.403-1.634 3.21 3.21 0 00-.403-1.6 3.059 3.059 0 00-1.08-1.141A2.776 2.776 0 006.082.796c-.547 0-1.048.143-1.504.43a3.153 3.153 0 00-1.087 1.156 3.195 3.195 0 00-.403 1.593 3.39 3.39 0 00.41 1.627c.269.487.629.88 1.08 1.175a2.71 2.71 0 001.504.438zm0-1.19c-.314 0-.606-.088-.875-.266a1.974 1.974 0 01-.636-.738 2.247 2.247 0 01-.239-1.046c0-.379.08-.718.24-1.019.159-.3.37-.538.635-.71.264-.179.556-.267.875-.267.319 0 .61.086.875.26.264.172.476.41.636.71.16.296.239.634.239 1.012 0 .387-.08.738-.24 1.053-.159.31-.37.556-.635.738a1.508 1.508 0 01-.875.273zm-4.266 7.54h5.948a3.113 3.113 0 01-.082-.752v-.43H1.59c-.082 0-.141-.014-.178-.041-.032-.027-.048-.073-.048-.137 0-.26.105-.56.315-.902.21-.342.512-.673.909-.992.4-.323.893-.59 1.476-.8.588-.213 1.26-.32 2.017-.32a5.648 5.648 0 011.92.328c.17-.42.466-.732.89-.937a6.605 6.605 0 00-1.313-.417 6.856 6.856 0 00-1.497-.157c-.92 0-1.75.139-2.488.417-.739.273-1.372.631-1.9 1.073-.525.442-.928.918-1.21 1.429-.279.51-.418.998-.418 1.463 0 .784.584 1.175 1.75 1.175zm6.843-.731c0 .438.091.804.274 1.1.182.297.469.58.861.848.392.274.907.588 1.545.944a.6.6 0 00.294.082.62.62 0 00.335-.082c.638-.36 1.153-.675 1.545-.944.392-.269.679-.551.861-.847.182-.297.274-.664.274-1.101v-2.468a.979.979 0 00-.137-.54c-.087-.141-.24-.26-.458-.355a17.47 17.47 0 00-.417-.15c-.182-.069-.38-.14-.595-.213-.21-.077-.403-.145-.581-.205a13.002 13.002 0 01-.403-.15 1.263 1.263 0 00-.417-.055c-.146 0-.292.028-.438.082-.077.028-.205.07-.383.13l-.574.198c-.205.073-.399.144-.58.212-.183.064-.32.114-.411.15-.219.096-.374.215-.465.356a1.02 1.02 0 00-.13.54v2.468zm2.598 1.326a.601.601 0 01-.212-.04.416.416 0 01-.178-.124l-1.155-1.244a.671.671 0 01-.096-.178.492.492 0 01-.034-.178c0-.145.048-.264.144-.355a.492.492 0 01.341-.13.485.485 0 01.363.15l.793.869 1.613-2.229a.484.484 0 01.41-.219c.132 0 .246.048.342.144.1.091.15.205.15.342 0 .04-.009.086-.027.136a.463.463 0 01-.075.15l-1.983 2.722c-.086.123-.218.184-.396.184z"})});var w=a(47453);const S=(0,b.I)("restore",{viewBox:"0 0 18 15",svg:i()("path",{d:"M8.61427 3.17871C8.292 3.17871 8.02833 3.43506 8.02833 3.75732L8.02833 7.84424C8.02833 8.0127 8.0796 8.15918 8.20411 8.32031L10.0132 10.708C10.2549 11.0229 10.5918 11.0742 10.8921 10.8691C11.1631 10.6787 11.1851 10.3345 10.9653 10.0342L8.52638 6.74561L9.19288 8.79639L9.19288 3.75732C9.19288 3.43506 8.93654 3.17871 8.61427 3.17871ZM8.89259 0C5.28907 0 2.22755 2.62939 1.56105 6.05713L0.521008 6.05713C-0.00633599 6.05713-0.138172 6.41602 0.147473 6.82617L1.7881 9.15527C2.0298 9.49219 2.38136 9.48486 2.61573 9.15527L4.25636 6.81885C4.53468 6.41602 4.40284 6.05713 3.88282 6.05713L2.82814 6.05713C3.45802 3.28857 5.91896 1.25244 8.89259 1.25244C10.98 1.25977 12.811 2.26318 13.9317 3.82324C14.1514 4.12354 14.5029 4.21875 14.8032 4.02832C15.1035 3.85254 15.1841 3.44971 14.9351 3.12744C13.5435 1.25977 11.3609 0 8.89259 0ZM8.89259 14.9414C12.4961 14.9414 15.5576 12.3047 16.2241 8.88428L17.2568 8.88428C17.7842 8.88428 17.9234 8.52539 17.6304 8.11523L15.9971 5.78613C15.7554 5.44922 15.4038 5.45654 15.1694 5.78613L13.5288 8.12256C13.2432 8.52539 13.3823 8.88428 13.9024 8.88428L14.9644 8.88428C14.3272 11.6455 11.8589 13.6963 8.89259 13.6963C6.80519 13.689 4.97413 12.6782 3.85353 11.1182C3.62648 10.8179 3.28224 10.7227 2.97462 10.9058C2.68165 11.0889 2.60109 11.4917 2.85011 11.814C4.24171 13.6816 6.42433 14.9414 8.89259 14.9414Z"})});var y=a(5108),M=a(64684),C=a(97880),A=a(5366),O=a(62967),I=a(50906),B=a(37181),P=a(43250),L=a(87279),k=a(35026);function V(e){let{adminStatus:t,accessLevel:a,isArchivedTeam:n}=e;if("adminThatCanPerformPrivilegedActions"===t)return new Set(["join","joinAsOwner"]);if(n)switch(t){case"none":return new Set;case"admin":return new Set("open"===a?["join"]:[]);default:(0,C.t1)(t)}switch(a){case"open":return new Set(["join"]);case"closed":case"private":return new Set;default:(0,C.t1)(a)}}var D=a(95697),x=a(45660),K=a(62837),z=a(63409),Z=a(25223),_=a(35901),U=a(71064),j=a(47967),F=a(77907),N=a(80444),W=a(61766),H=a(48690),E=a(33052),R=a(8053),J=a(35817),G=a(93405),Y=a(48019),$=a(64921),q=a(31945),X=a(78140),Q=a(72495),ee=a(26388);const te=["addPages","join","view","add","duplicate","leave","archive","restore"],ae=["addPages","add"],ne=["join","joinAsOwner","upgradeSelfToOwner","leave"],ie=(0,A.defineMessages)({add:{defaultMessage:"Add members",id:"sidebar.outlinerTeamToggleButton.addLabel"},leave:{defaultMessage:"Leave teamspace",id:"sidebar.outlinerTeamToggleButton.leaveLabel"},joinAsOwner:{defaultMessage:"Join as owner",id:"sidebar.outlinerTeamToggleButton.joinAsOwnerLabel"},joinAsMember:{defaultMessage:"Join as member",id:"sidebar.outlinerTeamToggleButton.joinAsMemberLabel"},joinTeamspace:{defaultMessage:"Join teamspace",id:"sidebar.outlinerTeamToggleButton.joinLabel"},upgradeSelfToOwner:{defaultMessage:"Become owner",id:"sidebar.outlinerTeamToggleButton.upgradeSelfToOwnerLabel"},archive:{defaultMessage:"Archive teamspace",id:"sidebar.outlinerTeamToggleButton.archiveLabel"},restore:{defaultMessage:"Restore teamspace",id:"outlinerTeamOverflow.teamActions.restoreLabel"},duplicate:{defaultMessage:"Duplicate teamspace",id:"sidebar.outlinerTeamToggleButton.duplicateLabel"},teamspaceSettings:{defaultMessage:"Teamspace settings",id:"sidebar.outlinerTeamToggleButton.ownerViewLabel"},viewMembers:{defaultMessage:"View members",id:"sidebar.outlinerTeamToggleButton.unjoinedMemberViewLabel"},appTemplates:{defaultMessage:"Add pages",id:"sidebar.outlinerTeamToggleButton.addPages"}});function oe(e){let{teamStore:t,style:a,from:n,hideJoin:o,onPopupClick:m,onPopupClose:p}=e;window.__c={n:"OutlinerTeamOverflow"};const u=(0,l.Fy)(),v=(0,A.useIntl)(),f=(0,d.qz)(void 0,E.Z),h=(0,d.VK)((()=>N.default.state.currentSpaceStore),[]),b=(0,d.qz)(void 0,W.Z),T=(0,c.yK)((e=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:3,height:20,width:20,...a},icon:{fill:e.sidebarTextColor,width:14,height:14}})),[a]),w=v.formatMessage({defaultMessage:"Teamspace settings and members...",id:"sidebar.outlinerTeamToggleButton.tooltip"});return h?u.isMobile?null:r.createElement(r.Fragment,null,i()(ee.Z,{textWrap:!1,renderTooltip:()=>w,placement:ee.Z.Placement.Bottom,render:e=>i()(q.ZP,{popupType:q.Z4.Popup,buttonPopupStore:b,alignmentToOrigin:q.vR.Start,originGap:2,renderOrigin:t=>r.createElement($.Z,s()({ariaLabel:w,className:P.qxR,style:T.buttonStyle,mobileFeedback:!1},e,t),(0,g.o)(T.icon)),render:e=>i()(se,{teamStore:t,permissionsInviteStore:f,onDismiss:e.close,from:n,hideJoin:o,buttonPopupStore:b}),onClick:m,onClose:p})}),i()(F.LazyTeamPermissionsInviteWithModal,{permissionsInviteStore:f,store:t})):null}function se(e){window.__c={n:"TeamOverflowMenu"};const{teamStore:t,permissionsInviteStore:a,onDismiss:n,from:o,hideJoin:g,buttonPopupStore:b}=e,F=(0,c.Fg)(),W=(0,l.O7)(),E=(0,c.yK)((()=>({menuItemButton:{minWidth:200},caption:{minWidth:230}})),[]),$=(0,d.VK)((()=>N.default.state.currentSpaceStore),[]),q=(0,U.e)(t),oe=(0,d.VK)((()=>(0,M.m4)({archived_by:t.getArchivedBy()})),[t]),se=W.currentUser.id,le=(0,d.VK)((()=>se?(0,M.Rk)({userId:se,team:{is_default:t.isDefault(),membership:t.getRawMembership()},space:{permissions:null==$?void 0:$.getPermissionItems(),permission_groups:null==$?void 0:$.getPermissionGroups()}}):"none"),[$,se,t]),de=(0,d.VK)((()=>!(!t.isDefined()||!se)&&(0,M.pd)({membership:t.getMembers()},se)),[se,t]),ce=(0,_.y)(t.id),me=(0,K.e)(t),{id:pe,name:ue,isDefault:ge}=(0,d.VK)((()=>({id:t.id,name:t.getName(),isDefault:t.isDefault()})),[t]),ve=(0,z.n)($),fe=(0,d.VK)((()=>(0,D.Xq)({environment:W,spaceStore:$})),[$,W]),he=(0,Z.r)(o),{accessLevel:be,settings:Te}=(0,d.VK)((()=>({accessLevel:t.getTeamAccessLevel(),settings:t.getSettings()})),[t]),we=(0,x.D)()&&(0,M.Ue)(be,Te),Se=(0,r.useCallback)((e=>{I.zah(W,{store:t,from:o,option:e})}),[W,t,o]),ye=ce&&!ve,Me=(0,d.VK)((()=>Boolean(null==$?void 0:$.canAdmin())),[$]),{joinLeaveOptionsToShow:Ce,leaveOptionDisabledState:Ae}=function(e){let{teamRole:t,adminStatus:a,isDefaultTeam:n,accessLevel:i,isArchivedTeam:o}=e;switch(t){case"owner":case"member":const e=new Set,s=!o;return s&&e.add("leave"),"owner"!==t&&"adminThatCanPerformPrivilegedActions"===a&&e.add("upgradeSelfToOwner"),{joinLeaveOptionsToShow:e,leaveOptionDisabledState:s&&n?{disabled:!0,disabledReasonKey:"defaultTeam"}:void 0};case"team_level_guest":return{joinLeaveOptionsToShow:new Set,leaveOptionDisabledState:void 0};case"none":return{joinLeaveOptionsToShow:V({adminStatus:a,accessLevel:i,isArchivedTeam:o}),leaveOptionDisabledState:void 0};default:(0,C.t1)(t)}}({teamRole:le,adminStatus:he?"adminThatCanPerformPrivilegedActions":Me?"admin":"none",isArchivedTeam:oe,isDefaultTeam:ge,accessLevel:be}),Oe=(0,j.Z)({teamStore:t,from:"sidebar_team_overflow"}),Ie=(0,d.VK)((()=>(0,k.si)({environment:W,teamStore:t})),[W,t]),Be=Ce.has("joinAsOwner"),Pe=he&&!(1===Ce.size&&Ce.has("leave")),Le={add:{type:"action",show:!oe&&me,handle:()=>{a.update((e=>({...e,modalOpen:!0})))},title:ie.add,icon:(0,m.a)({width:17})},leave:{type:"action",...Pe&&{colorOverride:F.redBadgeBackground},show:Ce.has("leave"),handle:()=>{J.s({environment:W,teamStore:t,currentSpaceStore:$,from:o})},title:ie.leave,disabled:Boolean(null==Ae?void 0:Ae.disabled),icon:(0,h.V)({width:17}),disabledTooltipText:"defaultTeam"===(null==Ae?void 0:Ae.disabledReasonKey)&&i()(A.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.cannotLeaveDefaulTeamTooltip",defaultMessage:"Cannot leave a default teamspace"})},join:{type:"action",show:!g&&Ce.has("join"),handle:async()=>{if($)switch(be){case"open":await J.um({environment:W,teamStore:t,currentSpaceStore:$,from:o,andNavigateToTeamHome:!1});break;case"closed":case"private":await J.wT({environment:W,teamStore:t,currentSpaceStore:$,from:o,action:"joinClosedOrPrivateTeamAsMember"});break;default:(0,C.t1)(be)}},title:Be?ie.joinAsMember:ie.joinTeamspace,icon:(0,w.R)({width:17})},joinAsOwner:{type:"action",show:Be,handle:()=>J.wT({environment:W,teamStore:t,currentSpaceStore:$,from:o,action:"joinTeamAsOwner"}),title:ie.joinAsOwner,icon:T({width:17})},upgradeSelfToOwner:{type:"action",show:Ce.has("upgradeSelfToOwner"),handle:()=>J.wT({environment:W,teamStore:t,currentSpaceStore:$,from:o,action:"upgradeToOwner"}),title:ie.upgradeSelfToOwner,icon:T({width:17})},archive:{type:"action",show:!oe&&de,colorOverride:F.redBadgeBackground,handle:()=>{!ye&&J.aQ({teamStore:t,environment:W,from:o})},title:ie.archive,disabled:ye,disabledTooltipText:i()("div",{style:{whiteSpace:"normal"}},void 0,i()(A.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.cannotArchiveTooltip.moreThanOneMember",defaultMessage:"There must only be one member in the workspace to archive this teamspace"})),icon:(0,p.H)({width:17})},restore:{type:"action",show:oe,handle:()=>{de&&J.YH({environment:W,teamStore:t,teamName:ue,from:o})},title:ie.restore,icon:S({width:17}),disabled:!de,disabledTooltipText:i()(A.FormattedMessage,{id:"outlinerTeamOverflow.restoreArchivedTeam.disabledTooltipText",defaultMessage:"Only teamspace owners can restore archived teamspaces."})},duplicate:{type:"action",show:!oe&&fe,handle:()=>{R.tW({environment:W,teamStore:t,from:o,buttonPopupStore:b})},title:ie.duplicate,disabled:ge||we,icon:(0,v.a)({width:17}),disabledTooltipText:re({isDefault:ge,isTeamWithGatedFeaturesOnDowngradedPlan:we}),caption:i()(A.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.duplicateCaption",defaultMessage:"Duplicates permissions and other settings but not pages and members"})},view:{type:"action",show:!oe||"manage_teams_table"===o,handle:()=>J.RF({environment:W,teamId:pe,tab:H.a.Members,from:o}),title:q?ie.teamspaceSettings:ie.viewMembers,icon:q?(0,f.F)({width:15}):(0,y.n)({width:17})},addPages:{type:"extensionAction",show:"teamSidebar"===o&&Ie,title:ie.appTemplates,icon:(0,u.s)({width:17}),subActionSections:Oe}},ke=(Pe?[{sectionName:"join/leave section",orderedOptions:ne},{sectionName:"other actions",orderedOptions:te.filter((e=>!ne.includes(e)))}]:[{sectionName:"add section",orderedOptions:ae},{sectionName:"other actions section",orderedOptions:te.filter((e=>!ae.includes(e)))}]).map((e=>{const t=e.orderedOptions.filter((e=>Le[e].show));if(0!==t.length)return{sectionName:e.sectionName,filteredOptions:t}})).filter(C.$K).map((e=>{const t=e.filteredOptions.map((e=>{const t=Le[e],{type:a}=t;return"action"===a?(0,O.cN)({key:e,displayName:t.title,analyticsName:t.title.defaultMessage,svg:()=>t.icon,validators:[],closeParentMenu:!0,action:()=>{n(),Se(e),t.handle()},render:e=>i()(ee.Z,{placement:ee.Z.Placement.Left,textWrap:!1,disableTooltip:!(t.disabled&&t.disabledTooltipText),renderTooltip:()=>t.disabledTooltipText,render:a=>r.createElement(G.Z,s()({},e,a,{svg:()=>t.icon,title:r.createElement(A.FormattedMessage,t.title),buttonStyle:{...E.menuItemButton,...!t.disabled&&t.colorOverride?{fill:t.colorOverride,color:t.colorOverride}:{fill:F.regularIconColor,color:F.regularTextColor}},disabled:t.disabled,disabledFeedback:t.disabled,caption:t.caption,captionStyle:E.caption,shouldWrapCaption:!0}))})}):"extensionAction"===a?(0,O.MV)({key:e,displayName:t.title,analyticsName:t.title.defaultMessage,svg:()=>t.icon,width:250,validators:[],subActions:()=>t.subActionSections.map((t=>({...t,actions:t.actions.map((t=>({...t,action:a=>{n(),Se(e),t.action(a)}})))})))}):void(0,C.t1)(a)}));return(0,O.$J)({key:e.sectionName,render:e=>r.createElement(Q.Z,e),actions:t})}));return(0,r.useEffect)((()=>{B.$n({environment:W,teamId:t.id})}),[W,t.id]),i()(X.Z,{className:P.Mdu,menuType:L.og.Popup,minWidth:"100%"},void 0,i()(Y.Z,{context:{blocks:[],environment:W,publicEditMode:void 0},sections:ke,initialFocus:void 0}))}function re(e){let{isDefault:t,isTeamWithGatedFeaturesOnDowngradedPlan:a}=e;return t?i()(A.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.cannotDuplicateDefaultTeamspace",defaultMessage:"Cannot duplicate a default teamspace"}):a?i()(A.FormattedMessage,{id:"sidebar.outlinerTeamToggleButton.cannotDuplicateTeamspaceWithGatedFeaturesOnDowngradedAccount",defaultMessage:"Cannot duplicate a teamspace with settings only allowed on Business plans or above"}):void 0}},98481:(e,t,a)=>{a.d(t,{J:()=>l});var n=a(40506),i=a(97880);var o=a(78291),s=a(41168),r=a(8323);function l(e){let{environment:t}=e;const a=(0,r.zt)(),{data:l}=o.default.state,d=(0,s.XX)(l);return function(e){let{subscriptionTier:t,subscriptionCreatedAtTime:a}=e;return"enterprise"===t||"plus"===t&&(0,i.$K)(a)&&a<n.Xn}({subscriptionTier:a,subscriptionCreatedAtTime:null==d?void 0:d.created})}},45660:(e,t,a)=>{a.d(t,{D:()=>d,e:()=>l});var n=a(480),i=a(86628),o=a(98481),s=a(8323),r=a(80444);function l(){const{currentSpaceStore:e}=(0,i.Kw)(r.default);return(0,i.VK)((()=>{const t=null==e?void 0:e.getSubscriptionTier(),a=(0,s.zt)();return!("enterprise"===t||"business"===t||"enterprise"===a||"business"===a)}),[e])}function d(){const e=(0,n.O7)(),t=l();return(0,i.VK)((()=>t&&!(0,o.J)({environment:e})),[t,e])}},62837:(e,t,a)=>{a.d(t,{e:()=>l});var n=a(86628),i=a(97880),o=a(8323),s=a(71064),r=a(46874);function l(e){const t=(0,r.q)(e),a=(0,s.e)(e);return(0,n.VK)((()=>{if(!(0,o.Mk)())return!1;const n=e.getSetting("invite_access");switch(n){case void 0:return!1;case"team_members":return a;case"team_owners":return t;default:(0,i.t1)(n)}}),[e,t,a])}},63409:(e,t,a)=>{a.d(t,{n:()=>r});var n=a(480),i=a(86628),o=a(64684),s=a(30397);function r(e){const t=(0,n.O7)();return(0,i.VK)((()=>{const a=s.Z.state.teams.map((e=>({membership:e.getMembers(),id:e.id,archived_by:e.getArchivedBy(),is_default:e.isDefault()}))),n=t.currentUser.id;return!(!n||!e)&&(0,o.wN)({spaceValue:{permissions:e.getPermissionItems(),permission_groups:e.getPermissionGroups()},teamsInSpace:a,currentUserId:n})}),[t,e])}},35901:(e,t,a)=>{a.d(t,{y:()=>o});var n=a(86628),i=a(30397);function o(e){const[t]=(0,n.AF)(i.Z);return(0,n.VK)((()=>{if(!e)return!1;const a=t.teams.filter((e=>e.isDefault()&&!e.isArchived()));return 1===a.length&&a[0].id===e}),[t,e])}},46874:(e,t,a)=>{a.d(t,{q:()=>s});var n=a(480),i=a(86628),o=a(64684);function s(e){const t=(0,n.O7)();return(0,i.VK)((()=>{const a=t.currentUser.id;return!!(e&&e.isDefined()&&a)&&(0,o.pd)({membership:e.getMembers()},a)}),[t.currentUser.id,e])}},47967:(e,t,a)=>{a.d(t,{Z:()=>q,l:()=>R});var n=a(10434),i=a.n(n),o=a(23174),s=a.n(o),r=(a(57658),a(67294)),l=a(480),d=a(86628),c=a(24405),m=a(15145),p=a(45433),u=a(59699),g=a(54855),v=a(29665),f=a(33507),h=a(59960);const b=(0,a(45238).I)("typesDocs",{viewBox:"0 0 16 16",svg:s()("path",{d:"M5.498 4.324h5.004a.432.432 0 00.43-.438.417.417 0 00-.43-.43H5.498a.426.426 0 00-.314.123.417.417 0 00-.123.308.432.432 0 00.437.437zm0 2.331h5.004a.418.418 0 00.308-.123.44.44 0 00.123-.314.418.418 0 00-.43-.424H5.497a.426.426 0 00-.314.123.41.41 0 00-.123.3.44.44 0 00.123.315.426.426 0 00.314.123zm0 2.338h2.42a.426.426 0 00.314-.123.41.41 0 00.123-.3.417.417 0 00-.123-.308.414.414 0 00-.314-.13h-2.42a.414.414 0 00-.314.13.417.417 0 00-.123.307.41.41 0 00.123.301.426.426 0 00.314.123zm-3.363 3.733c0 .738.187 1.296.56 1.674.374.379.928.568 1.661.568h7.28c.734 0 1.288-.19 1.662-.568.373-.378.56-.936.56-1.674V2.41c0-.734-.187-1.29-.56-1.668-.374-.383-.928-.574-1.661-.574h-7.28c-.734 0-1.288.191-1.662.574-.373.378-.56.934-.56 1.668v10.316zm1.346-.082V2.499c0-.319.082-.563.247-.731.164-.174.412-.26.745-.26h7.054c.333 0 .581.086.746.26.164.168.246.412.246.731v10.145c0 .314-.082.556-.246.724-.165.169-.413.253-.746.253H4.473c-.333 0-.581-.084-.745-.253-.165-.168-.247-.41-.247-.724z"})});var T=a(23539),w=a(87916);const S={untyped:{databaseUris:[],icon:g.a},[w.Ll]:{databaseUris:[w.iS],icon:h.w},[w.Yb]:{databaseUris:[w.wW,w.iS],icon:v.B},[w.tt]:{databaseUris:[w.wW,w.iS,w.p$,w.nG],icon:f.L},[w._F]:{databaseUris:[w.wW,w.iS]},[w.r]:{databaseUris:[w.zU],icon:b},[w.KW]:{databaseUris:[w.Fi],icon:u.N},[w.rK]:{databaseUris:[w.GZ],icon:T.Y}};var y=a(9767),M=a(90334),C=a(5366),A=a(97880),O=a(82990),I=a(62967),B=a(50906),P=a(47307),L=a(89858),k=a(75018),V=a(74647),D=a(16854),x=a(93405),K=a(72495),z=a(64369),Z=(a(74523),a(58449)),_=a(93959),U=a(75081),j=a(35683),F=(a(18514),a(80444)),N=a(37394),W=a(77907);const H=[...p.wC.existing_team,"more_templates"],E=(0,C.defineMessages)({moreTemplates:{id:"sidebar.addAPageButtonTeamToggle.moreTemplates",defaultMessage:"More templates"},blankPage:{id:"sidebar.addAPageButtonTeamToggle.addBlankPage",defaultMessage:"Blank page"},suggestedSection:{id:"sidebar.addAPageButtonTeamToggle.suggestedSection",defaultMessage:"Suggested"}});async function R(e){let{environment:t,spaceId:a,presetUri:n,parentStore:i,teamId:o,from:r}=e;const l=await async function(e){let{environment:t,spaceId:a,presetUri:n,parentStore:i,teamId:o}=e;const s=S[n].databaseUris,r=await Promise.all(s.map((e=>D.Yn({environment:t,spaceId:a,databaseType:e,parentStore:i,teamId:o})))),l=s.filter(((e,t)=>r[t]));return l.length>0?{shouldShowConfirmModal:!0,existingDatabaseTypes:l}:{shouldShowConfirmModal:!1}}({environment:t,spaceId:a,presetUri:n,parentStore:i,teamId:o}),{shouldShowConfirmModal:d}=l;if(!d)return!0;const{existingDatabaseTypes:c}=l;return new Promise((e=>{B.YnN(t,{from:r}),P.showDialog({handleCancel:()=>{B.nnP(t,{from:r,option:"no"}),e(!1)},showCancel:!0,keepFocus:!1,message:s()(J,{presetUri:n,existingDatabaseTypes:c}),description:false,items:[{label:s()(C.FormattedMessage,{id:"sidebar.appTemplate.confirmAdditionalAppTemplate.confirmAddAnyway.label",defaultMessage:"Add anyway"}),color:"red",onAccept:()=>{B.nnP(t,{from:r,option:"yes"}),e(!0)}}]})}))}function J(e){window.__c={n:"DialogMessage"};const{presetUri:t,existingDatabaseTypes:a}=e,n=(0,C.useIntl)(),i=(0,c.yK)((()=>({messageContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:12,marginTop:8,marginBottom:8},titleIcon:{height:38,width:38,color:"#D34F43"},confirmationTitle:{fontWeight:O.Z.fontWeight.medium,fontSize:18,textAlign:"center",marginTop:8,marginBottom:4},confirmationSubtitle:{fontSize:14,textAlign:"center"}})),[]),{title:o,icon:r}=G({presetUri:t,iconStyle:i.titleIcon});return s()("div",{style:i.messageContainer},void 0,r,s()(z.Z,{isMultiline:!0,style:i.confirmationTitle},void 0,s()(C.FormattedMessage,{id:"sidebar.appTemplate.confirmAdditionalAppTemplate",defaultMessage:"Are you sure you want to add another {templateName} template?",values:{templateName:o}})),s()(z.Z,{isMultiline:!0,style:i.confirmationSubtitle},void 0,a&&a.length>0?s()(C.FormattedMessage,{id:"sidebar.appTemplate.confirmAdditionalAppTemplate.existingAppsCaption",defaultMessage:"{existingDatabaseTypes} already exist in this teamspace. This template works best if there is only one per teamspace.",values:{existingDatabaseTypes:n.formatList(a.map((e=>(0,U.Mn)(e))))}}):s()(C.FormattedMessage,{id:"sidebar.appTemplate.confirmAdditionalAppTemplate.caption",defaultMessage:"{templateName} template works best if there is only one per teamspace.",values:{templateName:o}})))}function G(e){let{presetUri:t,iconStyle:a}=e;return(0,d.VK)((()=>({title:Y(t),icon:$({presetUri:t,style:a})})),[a,t])}function Y(e){return e===p.rK?s()(C.FormattedMessage,{id:"sidebar.addTemplateToExistingTeam.wiki",defaultMessage:"Wiki"}):(0,_.YC)((0,Z.appPackageConfigs)(),e).name}function $(e){var t,a;let{presetUri:n,style:i}=e;return p.xm.includes(n)?null===(t=(a=S[n]).icon)||void 0===t?void 0:t.call(a,i):null}const q=function(e){const{teamStore:t,from:a}=e,n=(0,l.O7)(),o=(0,l.Fy)(),{spaceStore:u,spaceViewStore:g}=(0,d.VK)((()=>({spaceStore:F.default.state.currentSpaceStore,spaceViewStore:F.default.state.currentSpaceViewStore})),[]),v=(0,r.useCallback)((async e=>{const{appTemplatesSetupActions:i}=await W.deps.AppTemplates.loader();B.ZEy(n,{option:e,from:a});if(!(await R({presetUri:e,spaceId:t.getSpaceId(),environment:n,parentStore:t,teamId:t.id,from:a})))return;let o=!1;const s=[];if(u&&g){if(e===p.rK)o=await i.createWikiInTeam({environment:n,spaceStore:u,spaceViewStore:g,teamStore:t,appendOrPrepend:"append",persona:"other"}),s.push(o.id);else{const s=i.createTypedDBsInTeam({presetUri:e,spaceViewStore:g,environment:n,teamStore:t,from:a});s.length>0&&(o=s[0])}o&&k.navigateToBlock({environment:n,store:o,visitType:j.vu.Link,pageVisitSource:m.tY.Create})}}),[n,t,u,g,a]),f=(0,r.useCallback)((()=>{N.Z.open({analyticsFrom:a,cloneTo:"destination_picker",selectedTeam:t}),B.ZEy(n,{option:"more_templates",from:a})}),[n,t,a]),h=(0,r.useCallback)((()=>{u&&g&&(L.mv({environment:n,from:"sidebar_team_section",spaceStore:u,spaceViewStore:g,teamStore:t,andNavigate:!0,appendOrPrepend:"append"}),o.isMobile&&V.close(),B.ZEy(n,{option:"blank_page",from:a}))}),[o.isMobile,n,u,g,t,a]),b=(0,c.yK)((e=>({actionItemIcon:{fill:e.regularIconColor,width:16,height:16},actionItemIconGray:{fill:e.mediumIconColor,width:16,height:16}})),[]),T={[p.Yb]:{handle:()=>v(p.Yb),...G({presetUri:p.Yb,iconStyle:b.actionItemIcon})},[p.tt]:{handle:()=>v(p.tt),...G({presetUri:p.tt,iconStyle:b.actionItemIcon})},[p.r]:{handle:()=>v(p.r),...G({presetUri:p.r,iconStyle:b.actionItemIcon})},[p.rK]:{handle:()=>v(p.rK),...G({presetUri:p.rK,iconStyle:b.actionItemIcon})},[p.KW]:{handle:()=>v(p.KW),...G({presetUri:p.KW,iconStyle:b.actionItemIcon})},more_templates:{handle:()=>f(),title:s()(z.Z,{isSecondaryColor:!0},void 0,r.createElement(C.FormattedMessage,E.moreTemplates)),icon:(0,M.O)(b.actionItemIconGray)}},w=H.map((e=>{if("more_templates"===e&&o.isMobile)return;const t=T[e];return(0,I.cN)({key:e,displayName:void 0,analyticsName:e,validators:[],closeParentMenu:!0,action:()=>t.handle(),render:e=>r.createElement(x.Z,i()({},e,{svg:()=>t.icon,title:t.title}))})})).filter(A.$K),S=[(0,I.cN)({key:"blank_page",displayName:E.blankPage,analyticsName:"blank_page",svg:()=>(0,y.s)(b.actionItemIcon),validators:[],closeParentMenu:!0,action:()=>h()})];return[(0,I.$J)({key:"add app templates",title:E.suggestedSection,overrideSearchTitle:E.suggestedSection,render:e=>r.createElement(K.Z,e),actions:w}),(0,I.$J)({key:"add blank page",render:e=>r.createElement(K.Z,e),actions:S})]}},85397:(e,t,a)=>{a.d(t,{a:()=>o});var n=a(23174),i=a.n(n);a(67294);const o=(0,a(45238).I)("addPerson",{viewBox:"0 0 16 16",svg:i()("path",{d:"M9.48242 7.91211C10.8076 7.91211 11.8352 6.77783 11.8352 5.35718C11.8352 4.00391 10.7908 2.84717 9.48242 2.84717C8.17407 2.84717 7.12964 4.00952 7.13525 5.36279C7.14087 6.77783 8.16284 7.91211 9.48242 7.91211ZM9.48242 8.87231C8.7356 8.87231 8.04492 8.99585 7.44409 9.22046C8.23022 9.95044 8.72437 10.9836 8.72437 12.1235C8.72437 12.511 8.66821 12.8872 8.55591 13.2466H12.8684C13.969 13.2466 14.3171 12.8479 14.3171 12.2302C14.3171 10.804 12.3967 8.87231 9.48242 8.87231ZM4.74316 15.1895C6.42212 15.1895 7.80347 13.7969 7.80347 12.1235C7.80347 10.4558 6.42212 9.06885 4.74316 9.06885C3.06982 9.06885 1.68286 10.4558 1.68286 12.1235C1.68286 13.7969 3.06982 15.1895 4.74316 15.1895ZM4.74316 14.1675C4.41187 14.1675 4.18726 13.9429 4.18726 13.6172V12.6907H3.27197C2.94629 12.6907 2.72168 12.4661 2.71606 12.1292C2.71045 11.7979 2.93506 11.5732 3.27197 11.5732H4.18726V10.6636C4.18726 10.3379 4.41187 10.1133 4.74316 10.1077C5.08008 10.1021 5.30469 10.3267 5.30469 10.6636V11.5732H6.22559C6.55127 11.5732 6.77588 11.7979 6.77588 12.1292C6.77588 12.4661 6.55127 12.6907 6.22559 12.6907H5.30469V13.6172C5.30469 13.9429 5.08008 14.1675 4.74316 14.1675Z"})})},9767:(e,t,a)=>{a.d(t,{s:()=>o});var n=a(23174),i=a.n(n);a(67294);const o=(0,a(45238).I)("docBadgePlus",{viewBox:"0 0 16 16",svg:i()("path",{d:"M3.719 8.066c.105-.018.21-.03.316-.04a2.6 2.6 0 01.653 0c.11.01.22.022.33.04V2.509c0-.303.078-.538.237-.705.158-.167.397-.25.718-.25h2.808v3.612c0 .47.114.821.343 1.054.233.233.584.35 1.055.35h3.553v5.721c0 .303-.08.536-.238.699-.158.163-.397.244-.718.244H8.57c-.04.233-.1.457-.184.672-.08.22-.18.429-.304.627h4.8c.707 0 1.24-.185 1.601-.554.36-.365.54-.901.54-1.609V6.392a4.83 4.83 0 00-.052-.778 1.721 1.721 0 00-.204-.587 2.456 2.456 0 00-.436-.56L10.877.953a2.373 2.373 0 00-.54-.428A1.72 1.72 0 009.763.32a3.897 3.897 0 00-.725-.06H5.861c-.708 0-1.241.185-1.602.554-.36.365-.54.9-.54 1.608v5.643zM9.922 5.04V1.731l3.632 3.698h-3.25c-.136 0-.235-.03-.297-.092-.057-.062-.085-.16-.085-.297zM4.372 15.74c.456 0 .89-.09 1.298-.27.413-.176.775-.42 1.087-.732a3.36 3.36 0 00.739-1.088 3.2 3.2 0 00.27-1.305c0-.466-.09-.903-.27-1.312a3.432 3.432 0 00-1.813-1.82 3.284 3.284 0 00-1.312-.263c-.466 0-.903.088-1.312.264a3.38 3.38 0 00-1.08.738 3.433 3.433 0 00-.732 1.081c-.18.409-.27.846-.27 1.312 0 .466.09.903.27 1.312.175.409.42.769.731 1.08a3.38 3.38 0 001.081.74c.41.175.846.263 1.312.263zm0-1.246a.446.446 0 01-.33-.125.45.45 0 01-.119-.323v-1.253H2.671a.437.437 0 01-.323-.125.424.424 0 01-.126-.323c0-.136.042-.244.126-.323a.437.437 0 01.323-.125h1.252v-1.253c0-.132.04-.24.119-.323a.446.446 0 01.33-.125c.135 0 .243.042.322.125a.437.437 0 01.125.323v1.253h1.253c.132 0 .24.041.323.125.083.08.125.187.125.323a.424.424 0 01-.125.323.437.437 0 01-.323.125H4.819v1.253c0 .132-.041.24-.125.323a.424.424 0 01-.323.125z"})})},29665:(e,t,a)=>{a.d(t,{B:()=>o});var n=a(23174),i=a.n(n);a(67294);const o=(0,a(45238).I)("projectManagementBig",{viewBox:"0 0 16 16",svg:i()("path",{fillRule:"evenodd",d:"M0 5.302c0 2.793 2.209 5.112 4.96 5.291V9.426a4.124 4.124 0 01-3.79-4.124 4.12 4.12 0 014.127-4.138 4.13 4.13 0 014.071 3.37h1.18C10.168 1.988 7.943 0 5.296 0 2.394 0 0 2.4 0 5.302zm5.302-3.197c1.489 0 2.75 1.043 3.098 2.429h-.1c-.322 0-.633.045-.927.13-.281-.876-1.117-1.533-2.071-1.533-1.18 0-2.17.992-2.17 2.171 0 1.068.823 1.988 1.855 2.147-.018.139-.027.28-.027.425v.607C3.377 8.305 2.11 6.93 2.11 5.302c0-1.744 1.443-3.197 3.192-3.197zm.005 1.967c.586 0 1.086.426 1.204.98A3.353 3.353 0 005.24 6.536a1.244 1.244 0 01-1.167-1.233c0-.676.554-1.23 1.235-1.23zm9.026 11.503H8.177c-1.098 0-1.668-.564-1.668-1.652V7.736c0-1.087.57-1.652 1.668-1.652h6.156C15.43 6.084 16 6.65 16 7.736v6.187c0 1.083-.57 1.652-1.667 1.652zm-6.827-1.738c0 .493.259.742.732.742h6.034c.467 0 .732-.25.732-.742v-6.02c0-.492-.265-.736-.732-.736H8.238c-.473 0-.732.244-.732.737v6.019zm3.655-.854a.526.526 0 01-.448.254c-.188 0-.335-.076-.473-.254l-1.2-1.465a.532.532 0 01-.131-.34c0-.254.193-.453.442-.453.152 0 .274.056.396.214l.946 1.205L12.7 8.92c.107-.173.244-.254.396-.254.24 0 .463.167.463.417 0 .116-.061.238-.127.345l-2.272 3.554z",clipRule:"evenodd"})})},5108:(e,t,a)=>{a.d(t,{n:()=>o});var n=a(23174),i=a.n(n);a(67294);const o=(0,a(45238).I)("settingsMembers",{viewBox:"0 0 20 20",svg:i()("path",{d:"M13.726 9.989c1.725 0 3.123-1.585 3.123-3.536 0-1.92-1.39-3.453-3.123-3.453-1.712 0-3.124 1.556-3.124 3.468.008 1.943 1.405 3.52 3.123 3.52zm-8.264.171c1.504 0 2.716-1.392 2.716-3.111 0-1.675-1.212-3.03-2.716-3.03-1.49 0-2.724 1.378-2.717 3.037 0 1.72 1.22 3.104 2.717 3.104zm8.264-1.474c-.985 0-1.819-.967-1.819-2.225 0-1.213.827-2.159 1.819-2.159.998 0 1.818.93 1.818 2.151 0 1.25-.827 2.233-1.819 2.233zm-8.264.186c-.806 0-1.49-.803-1.49-1.816 0-.967.677-1.756 1.49-1.756.827 0 1.497.774 1.497 1.749 0 1.02-.684 1.823-1.497 1.823zM1.54 17h5.54c-.392-.238-.656-.782-.606-1.273H1.476c-.136 0-.193-.067-.193-.193 0-1.705 1.911-3.327 4.172-3.327.798 0 1.597.208 2.21.566.242-.365.542-.678.934-.946-.906-.58-2.032-.893-3.144-.893C2.438 10.934 0 13.182 0 15.653 0 16.546.513 17 1.54 17zm7.743 0h8.885C19.4 17 20 16.59 20 15.712c0-2.046-2.453-4.77-6.274-4.77-3.822 0-6.275 2.724-6.275 4.77 0 .879.599 1.288 1.832 1.288zm-.228-1.303c-.164 0-.228-.059-.228-.193 0-1.139 1.761-3.26 4.899-3.26 3.137 0 4.898 2.121 4.898 3.26 0 .134-.064.194-.235.194H9.055z"})})}}]);