"use strict";(self.webpackChunknotion_next=self.webpackChunknotion_next||[]).push([[4535],{1412:(e,t,o)=>{o.r(t),o.d(t,{default:()=>U});var i=o(23174),n=o.n(i),s=o(67294),r=o(83355),a=o(82990),d=o(5366),l=o(95477),c=o(51339),g=o(51),u=o(33759),m=o(30278),h=o(27821);const p=20;function f(e,t){switch(t){case"xl":return(0,h.z)(e,"maxWidth","small")?60:(0,h.z)(e,"maxWidth","giant")?80:160;case"l":return(0,h.z)(e,"maxWidth","small")?60:(0,h.z)(e,"maxWidth","giant")?80:120;case"m":return(0,h.z)(e,"maxWidth","giant")?40:60;case"s":return 40;case"xs":return 20;default:return 0}}function y(e,t){const o=t?f(e,t):0;return{marginTop:o,marginBottom:o}}const v={display:"flex",flexDirection:"column",alignItems:"center"};function S(e){return(0,h.z)(e,"maxWidth","small")?p:(0,h.z)(e,"minWidth","small")&&(0,h.z)(e,"maxWidth","large")?40:60}const M=function(e){return n()("div",{style:v},void 0,e.children)};var C=o(67219),b=o(480),w=o(86628),k=o(24405),x=o(43250);class L extends r.Z{renderComponent(){return n()("div",{className:x.Quo,id:this.props.name})}}L.displayName="FrontAnalyticsScrollPoint";const A=L;var I=o(8848);function Z(e){return n()("div",{style:{height:1,background:I.ZP.frontBorder,...e.style}})}var F=o(25476);function T(e){window.__c={n:"FrontSection"};const t=(0,b.O7)(),o=(0,w.VK)((()=>({xPadding:S(t),marginStyle:y(t,e.marginSize)})),[t,e.marginSize]),i=(0,k.yK)((()=>({section:{paddingLeft:o.xPadding,paddingRight:o.xPadding,width:"100%",margin:"0 auto",overflow:e.overflowHidden?"hidden":"visible",...o.marginStyle,...e.style},inner:{width:"100%",borderRadius:3},divider:{maxWidth:F.P.l,margin:"0 auto"}})),[o.marginStyle,o.xPadding,e.overflowHidden,e.style]);return n()("section",{style:i.section},void 0,e.hasBorderTop&&n()("div",{style:i.divider},void 0,n()(Z,{})),n()("div",{style:i.inner},void 0,e.analyticsName&&n()(A,{name:e.analyticsName}),n()(F.Z,{size:e.limit},void 0,e.children)))}var B=o(12337),P=o(23376),N=o(12981),R=o(43116);function _(e){window.__c={n:"LoginPageFromTemplate"};const{loginStore:t,loginPermissionsStore:o,templateName:i,templateImage:s}=e,r=(0,k.yK)((e=>({wrapper:{marginTop:"12vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},twoColumnContainer:{display:"flex",alignItems:"center"},leftColumn:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",maxWidth:320},titleStyle:{fontSize:36,fontWeight:a.Z.fontWeight.bold,marginBottom:24,textAlign:"center",lineHeight:1.1,maxWidth:"100%"},loginActionStyle:{width:"100%",maxWidth:320},screenshotContainer:{marginLeft:"80px"},screenshot:{boxShadow:e.largeLightBoxShadow,borderRadius:"6px",overflow:"hidden",maxWidth:"650px"},loginDisclaimer:{width:"100%",marginTop:"20px"}})),[]);return n()("div",{style:r.wrapper},void 0,n()("div",{style:r.twoColumnContainer},void 0,n()("div",{style:r.leftColumn},void 0,n()("div",{style:r.titleStyle},void 0,n()(d.FormattedMessage,{id:"loginPage.title.fromTemplate",defaultMessage:"Log in to get this template",values:{templateName:i}})),n()(P.Z,{loginStore:t,loginPermissionsStore:o,emailLabelType:"email",emailInputAutoFocus:!0,emailPasscodePlaceholderType:"paste_code",style:r.loginActionStyle,isSignup:!1,showMobileLayout:!1,showAIVersion:!1,from:"frontLoginPage",disableDisclaimer:!0}),n()(R.E,{showMobileLayout:!1,showAIVersion:!1,showInvitationVersion:!1,style:r.loginDisclaimer})),n()("div",{style:r.screenshotContainer},void 0,n()("div",{style:r.screenshot},void 0,n()(N.Z,{src:s,style:{width:"100%"}})))))}var E=o(49245),W=o(9045);class V extends r.Z{constructor(){super(...arguments),this.storeTypes={loginPermissionsStore:m.Z},this.productType=void 0}willMount(e){super.willMount(e);l.default.isAdminMode&&V.forceAdminSamlLoginEnvironments.includes("production")?u.Z.setState({...u.Z.state,loginType:"saml"}):"email"===u.Z.state.loginType&&this.environment.device.isMobileBrowser&&!this.environment.device.isBannedGoogleSSOUserAgent&&u.Z.setState({...u.Z.state,loginType:"google"})}renderComponent(){var e;const t=this.props.isSignup?"signup":"login",{publicPageData:o}=g.Z.state,{device:i,WindowSizeStore:n}=this.environment,s=i.isMobile||i.isMobileBrowser,r=s||n.state.width<852,a="ai"===(null===(e=u.Z.getState())||void 0===e?void 0:e.productType)&&this.props.isSignup;return this.renderMFALoginPage({analyticsName:t,showAIVersion:a,publicPageData:o,showMobileLayout:r,isMobile:s})}renderMFALoginPage(e){let{analyticsName:t,showAIVersion:o,publicPageData:i,showMobileLayout:r,isMobile:a}=e;const d=void 0!==i,l=null==i?void 0:i.spaceName;return n()(C.Z,{hideNotificationBanner:!0,hideNavItems:!0,hideFooter:!0,analyticsName:t,showAIVersion:o},void 0,n()("div",{style:this.props.style?this.props.style:V.columnStyle},void 0,n()(T,{limit:"l"},void 0,n()(M,{align:"center"},void 0,u.Z.isMfa()?n()(E.Z,{loginStore:u.Z}):!r&&void 0!==(null==i?void 0:i.template)&&(0,c.a)()?n()(_,{loginStore:u.Z,loginPermissionsStore:this.stores.loginPermissionsStore,templateName:i.template.name,templateImage:i.template.imageUrl}):s.createElement(s.Fragment,null,i&&n()("div",{style:this.getIconStyle(a)},void 0,n()(B.Z,{type:B.Z.Type.NoAccess,publicPageData:i})),n()("div",{style:this.getTitleStyle({showMobileLayout:r,showAIVersion:o,hasPublicPageData:d})},void 0,this.renderTitle({showAIVersion:o,isMobile:a,spaceName:l})),n()(P.Z,{loginStore:u.Z,loginPermissionsStore:this.stores.loginPermissionsStore,emailLabelType:!a&&this.props.isSignup?"work_email":"email",emailInputAutoFocus:!0,emailPasscodePlaceholderType:"paste_code",style:this.getLoginActionStyle(),isSignup:this.props.isSignup,showMobileLayout:r,showAIVersion:o,from:"frontLoginPage"}))))))}renderReferringMessage(e){switch(e){case"notion_academy":return n()(d.FormattedMessage,{id:"signupPage.title.fromSourceNotionAcademy",defaultMessage:"Log in to view this lesson"});case"notion_template_gallery":return n()(d.FormattedMessage,{id:"signupPage.title.fromSourceNotionTemplateGallery",defaultMessage:"Log in to duplicate this template"})}}renderTitle(e){const{showAIVersion:t,spaceName:o,isMobile:i}=e,s=new URLSearchParams(window.location.search),r=!0===this.props.isSignup&&!0===i&&s.get("try_notion_cta");if(this.props.isSignup)return o?n()(d.FormattedMessage,{id:"signupPage.titleForSpace",defaultMessage:"Welcome to {company} on Notion",values:{company:o}}):"mobile"===r?n()(d.FormattedMessage,{id:"signupPage.title.tryNotionMobileCTA",defaultMessage:"Sign up to create a Notion page"}):t?n()("div",{},void 0,n()(d.FormattedMessage,{id:"signupPage.title.showAIVersion1",defaultMessage:"Sign up to join the "}),n()("span",{style:{color:"#CA59FF"}},void 0,n()(d.FormattedMessage,{id:"signupPage.title.showAIVersion2",defaultMessage:"Notion AI"})),n()(d.FormattedMessage,{id:"signupPage.title.showAIVersion3",defaultMessage:" waitlist"})):n()(W.Z,{});{const e=s.get("from");return l.default.isAdminMode?"Log In (Admin Mode)":e?this.renderReferringMessage(e):n()(d.FormattedMessage,{id:"loginPage.title",defaultMessage:"Log in"})}}getIconStyle(e){return{marginTop:e?"20vh":"12vh"}}getTitleStyle(e){let t="12vh";e.showMobileLayout&&e.showAIVersion&&(t="20vh");let o=50;return e.showAIVersion&&(o=40),e.showMobileLayout&&(o=34),{...e.hasPublicPageData?{fontSize:e.showMobileLayout?26:36}:{fontSize:o,marginTop:t},fontWeight:a.Z.fontWeight.bold,marginBottom:24,textAlign:"center",lineHeight:1.1,maxWidth:380}}getLoginActionStyle(){return{width:"100%",maxWidth:320,marginBottom:"16vh"}}}V.displayName="FrontLoginPage",V.forceAdminSamlLoginEnvironments=["development","production"],V.columnStyle={display:"flex",flexDirection:"row",width:"100%"};const U=(0,d.injectIntl)(V)},20243:(e,t,o)=>{o.r(t),o.d(t,{default:()=>T});var i=o(10434),n=o.n(i),s=o(23174),r=o.n(s),a=o(30120),d=o(67294),l=o(83355),c=o(8848),g=o(70954),u=o(89101),m=o(82990),h=o(11342),p=o(5366),f=o(84908),y=o(75018),v=o(39634),S=(o(95477),o(34700)),M=o(33929),C=o(18514),b=o(30278),w=o(85974),k=o(16354),x=o(62385),L=o(36360),A=o(42402),I=o(23376),Z=o(49245);class F extends l.Z{constructor(){super(...arguments),this.storeTypes={loginStore:w.Z,loginPermissionsStore:b.Z},this.openIntercom=()=>{v.j({environment:this.environment,from:"desktop_login"})}}didMount(){this.environment.currentUser.isLoggedIn()&&y.navigate({environment:this.environment,url:u._j.root,redirect:!0})}renderComponent(){const{device:e}=this.environment,{loginStore:t}=this.stores,o=e.isMac?r()(p.FormattedMessage,{id:"desktopLogin.welcomeMessage.mac",defaultMessage:"Welcome to Notion",values:{isMacApp:e.isMac}}):r()(p.FormattedMessage,{id:"desktopLogin.welcomeMessage.windows",defaultMessage:"Welcome to Notion",values:{isMacApp:e.isMac}});return t.isMfa()?r()("div",{style:F.style},void 0,r()(Z.Z,{loginStore:t}),this.renderFooter()):[r()("div",{style:{width:"100%",height:"45px",...(0,S.X)(this.environment.device.isElectronMac,!0)}}),r()(L.Z,{title:M.default.getIntl().formatMessage({defaultMessage:"Log in",id:"loginDesktopPage.title"})},"title"),r()("div",{style:F.style},void 0,r()("div",{style:{display:"flex",width:440}},void 0,(0,g.C)({width:64,height:64,display:"block",flexGrow:0,flexShrink:0,marginTop:4}),r()("div",{style:{flexGrow:1,marginLeft:24,lineHeight:1.4}},void 0,r()("div",{style:{fontWeight:m.Z.fontWeight.semibold,fontSize:21}},void 0,o),r()("div",{style:{fontSize:18}},void 0,r()(p.FormattedMessage,{id:"desktopLogin.loginOrSignupToSyncMessage",defaultMessage:"Log in to sync your content."})))),this.shouldRenderUpgradeWarning()?this.renderUpgradeWarning():this.renderLoginAction(),this.renderFooter())]}renderUpgradeWarning(){const{device:e}=this.environment,t=e.isMac?r()(p.FormattedMessage,{id:"desktopLogin.upgradeWarning.appOutOfDateMessage.mac",defaultMessage:"Your Mac app is out of date.",values:{isMacApp:e.isMac}}):r()(p.FormattedMessage,{id:"desktopLogin.upgradeWarning.appOutOfDateMessage.windows",defaultMessage:"Your Windows app is out of date.",values:{isMacApp:e.isMac}}),o=e.isMac?r()(p.FormattedMessage,{id:"desktopLogin.upgradeWarning.upgradeInstructions.mac",defaultMessage:"Please download and reinstall your Mac app.",values:{isMacApp:e.isMac}}):r()(p.FormattedMessage,{id:"desktopLogin.upgradeWarning.upgradeInstructions.windows",defaultMessage:"Please download and reinstall your Windows app.",values:{isMacApp:e.isMac}});return r()("div",{style:{maxWidth:440,paddingTop:20,textAlign:"center"}},void 0,r()("span",{style:{color:c.ZP.frontRed}},void 0,t),r()("br",{}),r()(A.Z,{href:e.isMac?(0,C.UY)("guides.reinstallMac"):(0,C.UY)("guides.reinstallWindows"),external:!0},void 0,o))}renderLoginAction(){return d.createElement(I.Z,n()({style:{width:320,marginTop:24},emailPasscodePlaceholderType:"enter_code",emailLabelType:"email",emailInputAutoFocus:!0,from:"LoginDesktop"},this.stores))}renderFooter(){return r()("div",{style:F.footerStyle},void 0,r()(k.Z,{onClick:this.openIntercom},void 0,r()(x.Z,{},void 0,r()(p.FormattedMessage,{id:"desktopLogin.footer.helpCenterLink",defaultMessage:"Need help?"}))),r()(k.Z,{style:{marginLeft:4},href:u._j.termsAndPrivacy,external:!0},void 0,r()(x.Z,{},void 0,r()(p.FormattedMessage,{id:"desktopLogin.footer.privacyAndTermsLink",defaultMessage:"Privacy & Terms"}))),r()(x.Z,{style:{marginLeft:4},disabled:!0},void 0,"Â© ",a.ou.now().year," ","Notion Labs, Inc."))}shouldRenderUpgradeWarning(){const{device:e}=this.environment;{const t=f.getDesktopVersion();if(e.isElectron&&t&&((0,h.isLessThanVersion)(t,[0,3,0])||(0,h.isEqualVersion)(t,[0,3,0])))return!0}return!1}}F.displayName="LoginDesktop",F.style={width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",userSelect:"none",WebkitUserSelect:"none"},F.footerStyle={display:"flex",alignItems:"center",justifyContent:"center",lineHeight:1.2,position:"fixed",bottom:16,left:0,right:0};const T=F},58891:(e,t,o)=>{o.r(t),o.d(t,{default:()=>T});var i=o(10434),n=o.n(i),s=o(23174),r=o.n(s),a=o(30120),d=o(67294),l=o(83355),c=o(8848),g=o(39186),u=o(60651),m=o(70954),h=o(89101),p=o(82990),f=o(5366),y=o(32603),v=o(75018),S=o(39634),M=o(34859),C=o(30278),b=o(85974),w=o(16354),k=o(89728),x=o(53336),L=o(62385),A=o(23376),I=o(49245);const Z={width:44,height:44,flexGrow:0,flexShrink:0,marginTop:64,marginBottom:20};class F extends l.Z{constructor(){super(...arguments),this.storeTypes={loginStore:b.Z,loginPermissionsStore:C.Z},this.handleReset=e=>{this.stores.loginStore.setState({loginType:"google",email:"",password:""})},this.openIntercom=()=>{S.j({environment:this.environment,from:"mobile_login"})}}willMount(e){super.willMount(e),"email"===this.stores.loginStore.state.loginType&&this.stores.loginStore.setState({...this.stores.loginStore.state,loginType:"google"}),y.setInitialRenderCompleted()}didMount(){this.environment.currentUser.isLoggedIn()&&v.navigate({environment:this.environment,url:h._j.root,redirect:!0})}renderComponent(){const{loginStore:e}=this.stores,t=e.isEmail()||e.isPassword()||e.isMfa();return r()(x.Z,{style:F.scrollerStyle,type:M.Z.Y},void 0,r()("div",{style:this.getScrollContainerStyle()},void 0,r()(k.Z,{isGray:!0,onClick:this.handleReset,icon:g.G,style:{marginTop:36,marginBottom:12,display:t?"flex":" none"}},void 0,r()(f.FormattedMessage,{defaultMessage:"Go back",id:"loginMobileNative.goBackButton.label"})),"light"===this.theme.mode?(0,u.h)({...Z,display:t?"none":"block"}):(0,m.C)({...Z,display:t?"none":"block"}),r()("div",{style:{lineHeight:1.4,fontSize:18,color:c.ZP.black,display:t?"none":" block"}},void 0,r()("div",{style:{fontWeight:p.Z.fontWeight.bold,marginBottom:16,color:this.theme.regularTextColor}},void 0,r()(f.FormattedMessage,{defaultMessage:"Welcome to Notion! ðŸ‘‹",id:"loginMobileNative.welcomeMessage"})),r()("div",{style:{marginBottom:20,color:this.theme.regularTextColor}},void 0,r()(f.FormattedMessage,{defaultMessage:"Notion is a collaborative tool for <mediumfont>notes</mediumfont>, <mediumfont>tasks</mediumfont>, and <mediumfont>wikis</mediumfont>",values:{mediumfont:e=>r()("span",{style:{fontWeight:p.Z.fontWeight.medium}},void 0,e)},id:"loginMobileNative.descriptionOfNotion.message"})," ","âœï¸")),e.isMfa()?r()(I.Z,{loginStore:e}):d.createElement(A.Z,n()({style:{marginBottom:24,alignItems:"flex-start"},captionStyle:{textAlign:"left"},emailPasswordSentPromptStyle:{fontSize:13},emailPasscodePlaceholderType:"enter_code",emailLabelType:"email",emailInputAutoFocus:!0,showMobileLayout:!0,from:"loginMobileNative"},this.stores)),this.renderFooter()))}renderFooter(){return r()("div",{style:F.footerStyle},void 0,r()("div",{style:{display:"flex",alignItems:"center",lineHeight:1.2}},void 0,r()(w.Z,{href:h._j.termsAndPrivacy,external:!0},void 0,r()(L.Z,{},void 0,r()(f.FormattedMessage,{defaultMessage:"Privacy & terms",id:"loginMobileNative.footer.privacyAndTermsButton.label"}))),r()(L.Z,{style:{marginLeft:4},onClick:this.openIntercom},void 0,r()(f.FormattedMessage,{defaultMessage:"Need help?",id:"loginMobileNative.footer.helpButton.label"}))),r()(L.Z,{style:{marginTop:12},disabled:!0},void 0,"Â© ",a.ou.now().year," ","Notion Labs, Inc."))}getScrollContainerStyle(){const{WindowSizeStore:e}=this.environment;return{width:"100%",maxWidth:414,marginLeft:"auto",marginRight:"auto",paddingTop:e.state.paddingTopCSS,paddingLeft:e.getSafePaddingLeftCSS(34),paddingRight:e.getSafePaddingRightCSS(34)}}}F.displayName="LoginMobileNative",F.footerStyle={marginTop:36,paddingBottom:48,marginLeft:-4},F.scrollerStyle={height:"100%",width:"100%"};const T=F},48787:(e,t,o)=>{o.r(t),o.d(t,{default:()=>m});var i=o(23174),n=o.n(i),s=(o(67294),o(480)),r=o(86628),a=o(24405),d=o(72126),l=o(82990),c=o(3386),g=o(23376),u=o(49245);function m(e){let{loginStore:t,title:o,description:i,isSignup:a,redirectURL:l,disableLoginLink:m,titleAriaId:y,descriptionAriaId:v}=e;window.__c={n:"LoginModalContent"};const S=(0,s.O7)(),M=(0,r.VK)((()=>{if(t.isMfa())return t.state.settings}),[t]);return n()("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",userSelect:"none",WebkitUserSelect:"none",height:"100%"}},void 0,!M&&!S.device.isMobile&&n()(h,{title:o,titleAriaId:y}),!M&&i&&n()(p,{description:i,descriptionAriaId:v}),n()(c.Z,{capture:!0,onBackspace:d.yR,onLeft:d.yR,onRight:d.yR,onSelectAll:d.yR,onRedo:d.yR,onUndo:d.yR,onCut:d.yR,onCopy:d.yR,onPaste:d.yR,onKeypress:d.yR,onDelete:d.yR,onTab:d.yR},void 0,M&&M.length>0?n()(u.Z,{loginStore:t}):n()(g.Z,{loginStore:t,style:{width:320,marginTop:24,marginBottom:64,...f(S)},isSignup:a,emailPasscodePlaceholderType:"enter_code",emailLabelType:"email",emailInputAutoFocus:!0,disableDisclaimer:!0,redirectURL:l,disableLoginLink:m,from:"loginModal"})))}function h(e){let{title:t,titleAriaId:o}=e;window.__c={n:"Title"};const i=(0,s.O7)();return n()("div",{id:o,style:{fontSize:28,fontWeight:l.Z.fontWeight.semibold,marginTop:90,textAlign:"center",lineHeight:1.1,...f(i)}},void 0,t)}function p(e){let{description:t,descriptionAriaId:o}=e;window.__c={n:"Description"};const i=(0,a.Fg)(),r=(0,s.O7)();return n()("div",{id:o,style:{fontSize:14,color:i.mediumTextColor,width:350,marginTop:12,marginBottom:20,textAlign:"center",lineHeight:1.3,...f(r)}},void 0,t)}function f(e){return e.device.isMobile?{maxWidth:343}:{}}},46420:(e,t,o)=>{o.r(t),o.d(t,{default:()=>p});var i=o(23174),n=o.n(i),s=(o(67294),o(83355)),r=o(9852),a=o(5366),d=o(33759),l=o(30278),c=o(36360),g=o(1412),u=o(20243),m=o(58891);class h extends s.Z{constructor(){super(...arguments),this.storeTypes={loginPermissionsStore:l.Z}}willMount(e){super.willMount(e),e.email&&d.Z.setState({...d.Z.state,email:e.email}),e.redirectURL&&(0,r.setPostLoginRedirect)(e.redirectURL)}didMount(){super.didMount()}renderComponent(){const{device:e}=this.environment,{loginPermissionsStore:t}=this.stores,{intl:o}=this.props;if(e.isElectron)return n()(u.default,{loginStore:d.Z,loginPermissionsStore:t});if(e.isMobileNative)return n()(m.default,{loginStore:d.Z,loginPermissionsStore:t});{const e=`Notion - ${this.props.isSignup?o.formatMessage({defaultMessage:"Sign up",id:"signupPage.pageTitle"}):o.formatMessage({defaultMessage:"Log in",id:"loginPage.pageTitle"})}`;return n()(c.Z,{title:e},void 0,n()(g.default,{isSignup:this.props.isSignup}))}}}h.displayName="LoginPage";const p=(0,a.injectIntl)(h)},49245:(e,t,o)=>{o.d(t,{Z:()=>te});var i=o(23174),n=o.n(i),s=o(67294),r=o(480),a=o(86628),d=o(23048),l=o(68785),c=o(12177),g=o(49085),u=o(97880),m=o(49682),h=o(16010);class p extends g.default{getInitialState(){return{step:"loginUninitialized"}}}class f extends h.o{constructor(e,t){super(e,"login"),this.service=void 0,this.service=t}loginShowChoices(){"loginComplete"!==this.getCurrentStep().step&&(this.store.setState({step:"loginLoadSettings"}),this.doLoadSettings().catch(this.handleUnexpectedError))}loginUseMethod(e){let{mfaSettingId:t}=e;const o=this.checkStep("loginChooseMethod");if(!o)return;const{settings:i}=o,n=i.find((e=>e.mfaSettingId===t));if(n)switch(n.mfaMethod){case"totp":return this.loginChooseTOTP({mfaSettingId:t,friendlyName:n.friendlyName});case"sms":return this.loginChooseSMS({mfaSettingId:t,partialPhoneNumber:n.phoneNumber});case"backup_code":return this.loginChooseBackupCode({mfaSettingId:t});default:throw(0,u.t1)(n)}}loginChooseTOTP(e){let{mfaSettingId:t,friendlyName:o}=e;this.checkStep("loginChooseMethod")&&this.store.setState({isLoading:!1,mfaSettingId:t,friendlyName:o,step:"loginTOTP"})}loginChooseSMS(e){let{mfaSettingId:t,partialPhoneNumber:o}=e;this.checkStep("loginChooseMethod")&&(this.store.setState({isLoading:!0,mfaSettingId:t,partialPhoneNumber:o,step:"loginSMS",resentAt:0,resentStatus:"not-resent"}),this.doSendSMS({mfaSettingId:t}).catch(this.handleUnexpectedError))}loginChooseBackupCode(e){let{mfaSettingId:t}=e;this.checkStep("loginChooseMethod")&&this.store.setState({isLoading:!1,mfaSettingId:t,step:"loginBackupCode"})}loginVerifyBackupCode(e){let{mfaSettingId:t,code:o,onComplete:i}=e;const n=this.checkStep("loginBackupCode");n&&(this.store.setState({...n,isLoading:!0}),this.doVerifyBackupCode({code:o,onComplete:i}).catch(this.handleUnexpectedError))}loginVerifyCode(e){let{mfaMethod:t,mfaSettingId:o,code:i,onComplete:n}=e;const s=y(t),r=this.checkStep(s);r&&(this.store.setState({...r,isLoading:!0}),this.doVerifyCode({mfaMethod:t,mfaSettingId:o,code:i,onComplete:n}).catch(this.handleUnexpectedError))}loginResendSMS(e){const t=this.checkStep("loginSMS");t&&(this.store.setState({...t,isLoading:!0,resentStatus:"resending"}),this.doSendSMS({mfaSettingId:e}).catch(this.handleUnexpectedError))}exit(){this.store.setState({step:"loginUninitialized"})}async doLoadSettings(){const e=await this.withStep("loginLoadSettings",(()=>this.service.loadSettings()));if(!e)return;const{result:t}=e;this.store.setState({step:"loginChooseMethod",settings:t.settings})}async doVerifyBackupCode(e){let{code:t,onComplete:o}=e;const i=await this.withStep("loginBackupCode",(e=>this.service.verifyBackupCode(t)));if(!i)return;const{result:n,state:s}=i;switch(n.status){case"match":n.recovery?(this.store.setState({step:"loginComplete"}),o()):this.store.setState({step:"loginAlertBackupCode",remainingCodes:n.remainingCodes});break;case"error":this.store.setState({...s,error:m.Qj.unexpectedError,isLoading:!1});break;case"incorrect":this.store.setState({...s,error:(0,m.Q3)("backup_code"),isLoading:!1});break;default:return(0,u.t1)(n)}}async doVerifyCode(e){let{mfaMethod:t,mfaSettingId:o,code:i,onComplete:n}=e;const s=y(t),r=await this.withStep(s,(()=>{switch(t){case"totp":return this.service.verifyTOTP(o,i);case"sms":return this.service.verifySMS(o,i);default:(0,u.t1)(t)}}));if(!r)return;const{result:a,state:d}=r;switch(a.status){case"match":this.store.setState({step:"loginComplete"}),n();break;case"error":this.store.setState({...d,error:m.Qj.unexpectedError,isLoading:!1});break;case"incorrect":this.store.setState({...d,error:(0,m.Q3)(t),isLoading:!1});break;default:return(0,u.t1)(a.status)}}async doSendSMS(e){let{mfaSettingId:t}=e;const o=await this.withStep("loginSMS",(e=>this.service.sendSMS(t)));if(!o)return;const{state:i}=o,{resentStatus:n,resentAt:s}="not-resent"===i.resentStatus?{resentStatus:"not-resent",resentAt:0}:{resentStatus:"resent",resentAt:Date.now()};this.store.setState({...i,step:"loginSMS",isLoading:!1,resentStatus:n,resentAt:s})}}function y(e){return"totp"===e?"loginTOTP":"sms"===e?"loginSMS":(0,u.t1)(e)}var v=o(5366),S=o(82990),M=o(457),C=o(10434),b=o.n(C),w=o(39693),k=o.n(w),x=o(24405),L=o(8848),A=o(18514),I=o(42922),Z=o(46600);function F(e){return(0,x.EM)({container:{position:"relative",width:324,padding:16},title:{fontWeight:S.Z.fontWeight.semibold,fontSize:20,lineHeight:1.2,color:e.regularTextColor,marginBottom:16,marginLeft:6,marginRight:6,textAlign:"center"},error:{color:L.ZP.red,width:"100%",marginBottom:10,textAlign:"center",fontSize:S.Z.fontSize.UISmall.desktop},header:{fontWeight:S.Z.fontWeight.regular,fontSize:S.Z.fontSize.UIRegular.desktop,color:e.lightTextColor,textAlign:"center",marginBottom:18},primaryActionButton:{width:"100%",margin:"12px auto 0",marginBottom:"12px",height:36},hiddenButton:{display:"none"}})}const T=function(e){let{primaryAction:t,secondaryActions:o,title:i,header:a,children:d,errorMessage:l}=e;window.__c={n:"MFALoginPrompt"};const c=(0,x.yK)(F,[]),g=(0,r.Fy)(),{isMobileNative:u}=g,m=(0,s.useMemo)((()=>t?n()(I.Z,{style:c.primaryActionButton,isLarge:!0,onClick:t.onClick,disabled:t.disabled,isRed:t.isRed},void 0,t.text):null),[t,c]),h=(0,A.UY)("guides.mfa"),p=(0,s.useMemo)((()=>k()([...o||[],{text:n()(v.FormattedMessage,u?{id:"login.mfa.mfaPrompt.needHelp.mobileNative",defaultMessage:"Need help with 2-step verification?"}:{id:"login.mfa.mfaPrompt.needHelp",defaultMessage:"Need help?"}),type:"link",view:"plain",href:h,isExternal:!0}]).map(((e,t)=>s.createElement(Z.Z,b()({},e,{key:t}))))),[o,h,u]),f=l?n()("div",{style:c.error},void 0,l):void 0,y=(0,s.useCallback)((e=>{e.preventDefault(),t&&!t.disabled&&t.onClick()}),[t]);return n()("form",{style:c.container,onSubmit:y},void 0,n()("div",{style:c.title},void 0,i),n()("div",{style:c.header},void 0,a),f,d,m,p,n()("button",{style:c.hiddenButton}))};var B=o(45653);function P(e){let{userStore:t,children:o,hideEmail:i}=e;window.__c={n:"MFALoginPromptTitle"};const s=(0,a.VK)((()=>t.getEmail()),[t]),r=(0,x.yK)((e=>function(e,t){return(0,x.EM)({avatar:{marginBottom:12},title:{marginBottom:t?"auto":12},header:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},email:{fontSize:S.Z.fontSize.UISmall.desktop,fontWeight:S.Z.fontWeight.regular,color:e.lightTextColor}})}(e,i)),[i]);return n()("div",{style:r.header},void 0,n()(B.Z,{userStore:t,size:64,avatarShouldShowShadow:!0,style:r.avatar}),n()("div",{style:r.title},void 0,o),!i&&n()("div",{style:r.email},void 0,s))}function N(e){window.__c={n:"MFALoginPromptBackupCodesAlert"};const{userStore:t,remainingCodes:o,onComplete:i,errorMessage:a}=e,d=o.filter((e=>!e.hasBeenUsed)).length,l=(0,r.O7)(),c=(0,s.useMemo)((()=>n()(P,{userStore:t,hideEmail:!0},void 0,n()(v.FormattedMessage,0===d?{id:"login.mfa.backupCode.regenerateBackupCodesTitle",defaultMessage:"Regenerate backup codes"}:{id:"login.mfa.backupCode.remainingBackupCodesTitle",defaultMessage:"Remaining backup codes"}))),[t,d]),g=(0,s.useMemo)((()=>n()(v.FormattedMessage,0===d?{id:"login.mfa.backupCode.regenerateBackupCodes.noCodeRemaining.header",defaultMessage:"You've used all of your recovery codes. On the browser or desktop app, go to <boldtext>Settings & members</boldtext> > <boldtext>My account</boldtext> > <boldtext>2-step verification</boldtext> to create new codes.",values:{boldtext:e=>n()("span",{style:{fontWeight:S.Z.fontWeight.semibold}},void 0,e)}}:{id:"login.mfa.backupCode.regenerateBackupCodes.codeRemaining.header",defaultMessage:"You have {numRemainingCodes} backup codes left.",values:{numRemainingCodes:d}})),[d]),u=(0,s.useMemo)((()=>({text:0!==d||l.device.isMobile?n()(v.FormattedMessage,{id:"login.mfa.backupCode.continueButton",defaultMessage:"Continue"}):n()(v.FormattedMessage,{id:"login.mfa.backupCode.goToAccountSettingsButton",defaultMessage:"Go to account settings"}),onClick:l.device.isMobile?i:()=>i(!0)})),[d,i,l.device.isMobile]),m=(0,s.useMemo)((()=>0!==d||l.device.isMobile?[]:[{text:n()(v.FormattedMessage,{id:"login.mfa.backupCode.doThisLaterButton",defaultMessage:"Do this later"}),type:"button",view:"plain",onClick:()=>i()}]),[d,i,l.device.isMobile]),h=(0,s.useMemo)((()=>0!==d?n()(M.Z,{type:"status",status:o}):void 0),[d,o]);return n()(T,{title:c,header:g,primaryAction:u,secondaryActions:m,errorMessage:a,children:h})}var R=o(1799),_=o(74194);function E(e){let{isLoading:t,userStore:o,errorMessage:i,onVerifyCode:r,onTryAnotherMethod:a}=e;window.__c={n:"MFALoginPromptBackupCodeVerification"};const d=(0,x.yK)(W,[]),[l,c]=(0,s.useState)(""),g=n()(P,{userStore:o,hideEmail:!1},void 0,n()(v.FormattedMessage,{id:"login.mfa.backupCode.verifyCodeTitle",defaultMessage:"Verify your identity"})),u=n()(v.FormattedMessage,{id:"login.mfa.backupCode.verifyCodeHeader",defaultMessage:"Enter an unused one-time backup code."}),m={text:n()(v.FormattedMessage,{id:"login.mfa.backupCode.verifyCodeButton",defaultMessage:"Continue"}),onClick:()=>r(l),disabled:t},h=[{text:n()(v.FormattedMessage,{id:"login.mfa.backupCode.anotherMethod",defaultMessage:"Try another method"}),type:"button",view:"plain",onClick:a}];return n()(T,{title:g,header:u,primaryAction:m,secondaryActions:h,errorMessage:i},void 0,n()("div",{style:d.body},void 0,n()(_.Z,{value:l,spellCheck:!1,style:d.backupCodeInput,onChange:e=>c((0,R.K)(e.target.value)),placeholder:"1234-1234",disabled:t})))}function W(e){return(0,x.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16},backupCodeInput:{background:"light"===e.mode?L.O9.transparent:e.inputBackground,color:e.darkTextColor,height:44,fontSize:16}})}var V=o(71119),U=o(15679);function D(e){let{errorMessage:t,userStore:o,mfaSettings:i,onUseMethod:a,onCancelMfa:d}=e;window.__c={n:"MFALoginPromptMethodChooser"};const l=(0,x.yK)(z,[]),c=(0,r.Fy)(),g=n()(P,{userStore:o,hideEmail:!1},void 0,n()(v.FormattedMessage,{id:"login.mfa.methodChooser.chooseMethodTitle",defaultMessage:"Verify your identity"})),m=k()([!c.isMobileNative&&{text:n()(v.FormattedMessage,{id:"login.mfa.methodChooser.anotherAccount",defaultMessage:"Log into another account"}),type:"button",view:"plain",onClick:d}]),h=(0,s.useMemo)((()=>(0,V.UG)(i).map((e=>{const{mfaMethod:t,mfaSettingId:o}=e;switch(t){case"totp":return n()(U.Z,{type:"totp",isActive:!0,title:e.friendlyName,caption:n()(v.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.useAuthenticator.button.message",defaultMessage:"Use code from authenticator"}),onClick:()=>a("totp",o),style:l.button});case"sms":return n()(U.Z,{type:"sms",isActive:!0,title:e.phoneNumber,caption:n()(v.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.usePhoneNumber.button.message",defaultMessage:"Text me a code"}),onClick:()=>a("sms",o),style:l.button});case"backup_code":return n()(U.Z,{type:"backup_code",isActive:!0,title:n()(v.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.useBackupCode.button.title",defaultMessage:"Use backup code"}),caption:n()(v.FormattedMessage,{id:"login.mfa.methodChooser.activeSection.useBackupCode.button.message",defaultMessage:"Use a one-time backup code"}),onClick:()=>a("backup_code",o),style:l.button});default:(0,u.t1)(t)}}))),[l,i,a]);return n()(T,{title:g,header:undefined,primaryAction:undefined,secondaryActions:m,errorMessage:t},void 0,n()("div",{style:l.body},void 0,h))}function z(e){return(0,x.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16},button:{marginBottom:10}})}var H=o(72126),j=o(56839),O=o(73602),K=o(11898);function G(e){let{isLoading:t,userStore:o,phoneHint:i,resentAt:r,resentStatus:a,errorMessage:d,onVerifyCode:l,onResendLink:c,onTryAnotherMethod:g}=e;window.__c={n:"MFALoginPromptSMSVerification"};const u=(0,x.yK)(X,[]),[m,h]=(0,s.useState)([]),p=n()(P,{userStore:o,hideEmail:!1},void 0,n()(v.FormattedMessage,{id:"login.mfa.sms.verifyCodeTitle",defaultMessage:"Verify your identity"})),f=s.createElement(s.Fragment,null,n()(v.FormattedMessage,{id:"login.mfa.sms.verifyCodeHeader",defaultMessage:"Enter the code sent to {phoneHint}.",values:{phoneHint:i}})," ",s.createElement(O.y,{resentAt:r,resentStatus:a,onResendLink:c})),y={text:n()(v.FormattedMessage,{id:"login.mfa.sms.verifyCodeButton",defaultMessage:"Continue"}),onClick:()=>l(m.join("")),disabled:t||"resending"===a||(0,H.oA)(m).length!==j.R$},S=[{text:n()(v.FormattedMessage,{id:"login.mfa.sms.anotherMethod",defaultMessage:"Try another method"}),type:"button",view:"plain",onClick:g}];return n()(T,{title:p,header:f,primaryAction:y,secondaryActions:S,errorMessage:d},void 0,n()("div",{style:u.body},void 0,n()(K.ZP,{numInputs:j.R$,format:"login",disabled:t,value:m,onChange:h,autoFocus:!0,isValidKey:K.rN})))}function X(e){return(0,x.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16}})}var $=o(18469);function Y(e){let{isLoading:t,userStore:o,friendlyName:i,errorMessage:r,onVerifyCode:a,onTryAnotherMethod:d}=e;window.__c={n:"MFALoginPromptTOTPVerification"};const l=(0,x.yK)(Q,[]),[c,g]=(0,s.useState)([]),u=n()(P,{userStore:o,hideEmail:!1},void 0,n()(v.FormattedMessage,{id:"login.mfa.totp.verifyCodeTitle",defaultMessage:"Verify your identity"})),m=n()(v.FormattedMessage,{id:"login.mfa.totp.verifyCodeHeader",defaultMessage:"Enter code from authenticator <boldtext>{friendlyName}</boldtext>.",values:{friendlyName:i,boldtext:e=>n()("span",{style:l.boldText},void 0,e)}}),h={text:n()(v.FormattedMessage,{id:"login.mfa.totp.verifyCodeButton",defaultMessage:"Continue"}),onClick:()=>a(c.join("")),disabled:t||(0,H.oA)(c).length!==$.R$},p=[{text:n()(v.FormattedMessage,{id:"login.mfa.totp.anotherMethod",defaultMessage:"Try another method"}),type:"button",view:"plain",onClick:d}];return n()(T,{title:u,header:m,primaryAction:h,secondaryActions:p,errorMessage:r},void 0,n()("div",{style:l.body},void 0,n()(K.ZP,{numInputs:$.R$,format:"login",disabled:t,value:c,onChange:g,autoFocus:!0,isValidKey:K.rN})))}function Q(e){return(0,x.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:16},boldText:{fontWeight:S.Z.fontWeight.semibold}})}function q(e){window.__c={n:"MFALoginRouter"};const{loginStateMachine:t,userStore:o,onCancelMfa:i,onComplete:a}=e,{device:d}=(0,r.O7)(),g=t.useCurrentStep();return n()(s.Fragment,{},void 0,function(){switch(g.step){case"loginUninitialized":return;case"loginLoadSettings":return n()("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:`calc(100vh - ${d.isMobile?c.Z.mobileHeaderHeight:c.Z.desktopHeaderHeight}px)`}},void 0,n()(l.Z,{}));case"loginChooseMethod":return n()(D,{userStore:o,mfaSettings:g.settings,errorMessage:g.error,onUseMethod:(e,o)=>t.loginUseMethod({mfaSettingId:o}),onCancelMfa:i});case"loginTOTP":return n()(Y,{isLoading:g.isLoading,userStore:o,friendlyName:g.friendlyName,errorMessage:g.error,onVerifyCode:e=>t.loginVerifyCode({mfaMethod:"totp",mfaSettingId:g.mfaSettingId,code:e,onComplete:a}),onTryAnotherMethod:()=>t.loginShowChoices()});case"loginSMS":return n()(G,{isLoading:g.isLoading,userStore:o,phoneHint:g.partialPhoneNumber,errorMessage:g.error,resentAt:g.resentAt,resentStatus:g.resentStatus,onVerifyCode:e=>t.loginVerifyCode({mfaMethod:"sms",mfaSettingId:g.mfaSettingId,code:e,onComplete:a}),onResendLink:()=>{t.loginResendSMS(g.mfaSettingId)},onTryAnotherMethod:()=>t.loginShowChoices()});case"loginBackupCode":return n()(E,{isLoading:g.isLoading,userStore:o,errorMessage:g.error,onVerifyCode:e=>t.loginVerifyBackupCode({mfaSettingId:g.mfaSettingId,code:e,onComplete:a}),onTryAnotherMethod:()=>t.loginShowChoices()});case"loginAlertBackupCode":return n()(N,{userStore:o,remainingCodes:g.remainingCodes,onComplete:a});case"loginComplete":return;default:return(0,u.t1)(g)}}())}var J=o(54642);class ee{constructor(e){this.environment=void 0,this.userId=void 0,this.environment=e.environment,this.userId=e.userId}async loadSettings(){const e=await J.authGetLoginConfiguration(this.environment,{},this.userId);if("success"===e.type){const{data:t}=e;return"required"===t.samlSignIn?{settings:[]}:{settings:t.mfaOptions}}throw e.error}async sendSMS(e){const t=await J.authSendSms(this.environment,{mfaSettingId:e},this.userId);if("success"!==t.type)throw t.error}async verifySMS(e,t){var o;const i=await J.authVerifySmsLogin(this.environment,{mfaSettingId:e,code:t},this.userId);if("success"===i.type)return{status:"match"};if("invalid_mfa_code"===(null===(o=i.body)||void 0===o||null===(o=o.clientData)||void 0===o?void 0:o.type))return{status:"incorrect"};throw i.error}async verifyTOTP(e,t){var o;const i=await J.authVerifyTotpLogin(this.environment,{mfaSettingId:e,code:t},this.userId);if("success"===i.type)return{status:"match"};if("invalid_mfa_code"===(null===(o=i.body)||void 0===o||null===(o=o.clientData)||void 0===o?void 0:o.type))return{status:"incorrect"};throw i.error}async verifyBackupCode(e){var t;const o=await J.authVerifyBackupCodesLogin(this.environment,{code:e},this.userId);if("success"===o.type)return{status:"match",recovery:o.data.recovery,remainingCodes:o.data.remainingCodes};if("invalid_mfa_code"===(null===(t=o.body)||void 0===t||null===(t=t.clientData)||void 0===t?void 0:t.type))return{status:"incorrect"};throw o.error}}function te(e){window.__c={n:"MfaChallenge"};const{loginStore:t}=e,o=(0,r.O7)(),{device:i}=o,[g,u]=(0,s.useState)(void 0),{userId:m,userStore:h,previousPersistedUserId:y,redirectURL:v}=(0,a.VK)((()=>({userId:t.state.userStore.id,userStore:t.state.userStore,previousPersistedUserId:t.state.previousPersistedUserId,redirectURL:t.state.redirectURL})),[t]);(0,s.useEffect)((()=>{if(void 0===g){const e=new ee({environment:o,userId:m}),t=new p,i=new f(t,e);u(i),i.loginShowChoices()}}),[o,m,g]);const S=(0,s.useCallback)((async e=>{await d.Es({environment:o,redirectURL:v,userId:m,previousPersistedUserId:y,regenerateBackupCodes:e})}),[o,m,y,v]);return g?n()(q,{loginStateMachine:g,userStore:h,onCancelMfa:()=>d.X_(t),onComplete:S}):n()("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:`calc(100vh - ${i.isMobile?c.Z.mobileHeaderHeight:c.Z.desktopHeaderHeight}px)`}},void 0,n()(l.Z,{}))}},15679:(e,t,o)=>{o.d(t,{Z:()=>h});var i=o(23174),n=o.n(i),s=o(67294),r=o(24405),a=o(81864);const d=(0,o(45238).I)("collectionNumberType",{viewBox:"0 0 14 14",svg:n()("path",{d:"M1.73457,9.90096 L1.73457,4.54339 L1.65064,4.54339 L0,5.68112 L0,4.37087 L1.73923,3.17252 L3.14274,3.17252 L3.14274,9.90096 L1.73457,9.90096 Z M3.59633,5.22882 C3.59633,3.90925 4.62215,3 6.0956,3 C7.52242,3 8.43633,3.82532 8.43633,4.96304 C8.43633,5.75106 8.09128,6.29195 6.97221,7.34108 L5.57337,8.64667 L5.57337,8.7306 L8.52959,8.7306 L8.52959,9.90096 L3.6756,9.90096 L3.6756,8.91711 L6.03498,6.66031 C6.87429,5.85364 7.05614,5.5459 7.05614,5.0936 C7.05614,4.55738 6.67379,4.13306 6.01633,4.13306 C5.3309,4.13306 4.90192,4.58536 4.90192,5.22882 L3.59633,5.22882 Z M10.4889,6.96805 L10.4889,5.93757 L11.3282,5.93757 C11.967,5.93757 12.4007,5.55988 12.4007,5.00967 C12.4007,4.50609 12.0043,4.12374 11.3469,4.12374 C10.6661,4.12374 10.2464,4.47345 10.1998,5.07495 L8.89888,5.07495 C8.94551,3.83464 9.90139,3 11.4168,3 C12.9089,3 13.7389,3.82532 13.7342,4.80917 C13.7296,5.62516 13.2166,6.16139 12.4939,6.33857 L12.4939,6.42717 C13.4311,6.56239 14,7.15923 14,8.05915 C14,9.23884 12.8903,10.0735 11.3702,10.0735 C9.8501,10.0735 8.81495,9.24351 8.75434,7.97056 L10.1019,7.97056 C10.1439,8.53942 10.6288,8.90312 11.3515,8.90312 C12.0649,8.90312 12.5639,8.51611 12.5639,7.93326 C12.5639,7.33642 12.0976,6.96805 11.3422,6.96805 L10.4889,6.96805 Z"})});var l=o(94900),c=o(82990),g=o(68785),u=o(63296),m=o(64369);function h(e){window.__c={n:"MFAActionButton"};const{type:t,isActive:o,title:i,caption:h,onClick:p,isLoading:f,style:y,disabled:v}=e,[S,M]=(0,s.useState)(!1),C=(0,s.useCallback)((()=>M(!0)),[M]),b=(0,s.useCallback)((()=>M(!1)),[M]),w=(0,r.yK)((e=>({button:{width:"100%",justifyContent:"left",padding:"10px 16px",alignItems:"start",height:"auto",...y},buttonLoading:{width:"100%",height:59,...y},buttonInner:{minWidth:0},icon:{width:20,height:20,marginRight:10,fill:o||S&&!v?e.blueColor:e.regularIconColor},caption:{fontSize:c.Z.fontSize.UISmall.desktop,lineHeight:1.35,color:e.mediumTextColor,whiteSpace:"normal"}})),[o,S,v,y]),k=(0,s.useMemo)((()=>f?w.buttonLoading:w.button),[f,w.buttonLoading,w.button]),x={totp:(0,a.X)(w.icon),sms:(0,l.u)(w.icon),backup_code:d(w.icon)}[t];return n()(u.Z,{style:k,onClick:p,onMouseEnter:C,onMouseLeave:b,hovered:S,disabled:v,disabledFeedback:v},void 0,f?n()(g.Z,{}):s.createElement(s.Fragment,null,n()("div",{style:w.icon},void 0,x),n()("div",{style:w.buttonInner},void 0,n()(m.Z,{},void 0,i),n()("span",{style:w.caption},void 0,h))))}},457:(e,t,o)=>{o.d(t,{Z:()=>g});var i=o(23174),n=o.n(i),s=(o(67294),o(13991)),r=o(24405),a=o(8848),d=o(1799),l=o(97880),c=o(82990);function g(e){window.__c={n:"MFABackupCodes"};const{type:t}=e,o=(0,r.yK)((e=>({pane:{display:"flex",whiteSpace:"pre-line",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:4,backgroundColor:a.FN.light.yellow[50],paddingTop:8,paddingBottom:8,marginBottom:10},textCode:{fontFamily:c.Z.getHeaderFontFamily({pageFont:"mono",locale:s.SP}),fontWeight:c.Z.fontWeight.regular,fontSize:c.Z.fontSize.UIRegular.desktop,font:c.Z.baseFontFamily.emailMono,color:a.FN.light.brown[500],textAlign:"center"},redactedBackupCode:{textDecoration:"line-through",opacity:.2}})),[]);return n()("div",{style:o.pane},void 0,n()("div",{style:o.textCode},void 0,"status"===t?e.status.map(((e,t)=>n()("div",{style:e.hasBeenUsed?o.redactedBackupCode:{}},t,d.A))):"unencryptedCodes"===t?e.backupCodes.map(d.K).join("\n"):(0,l.t1)(t)))}},88175:(e,t,o)=>{o.d(t,{Z:()=>f});var i=o(10434),n=o.n(i),s=o(23174),r=o.n(s),a=o(67294),d=o(24405),l=o(8848),c=o(80721),g=o(64275),u=o(82990),m=o(42922),h=o(89728),p=o(46600);function f(e){let{onDismiss:t,onBack:o,disableBackButton:i,primaryAction:s,secondaryActions:l,title:u,header:f,children:v,errorMessage:S,alertMessage:M,icon:C,containerStyles:b}=e;window.__c={n:"MFAPrompt"};const w=(0,d.yK)(y,[]),k=(0,a.useMemo)((()=>r()(a.Fragment,{},void 0,r()("div",{style:o&&t?w.topIconRow:{...w.topIconRow,justifyContent:"flex-end"}},void 0,o?r()(h.Z,{isSmall:!0,style:w.backButton,onClick:o,disabled:i},void 0,(0,c.W)(w.backIcon)):null,t?r()(h.Z,{isSmall:!0,style:w.dismissButton,hoveredStyle:w.dismissButtonHovered,onClick:t},void 0,(0,g.D)(w.dismissIcon)):null),C?r()("div",{style:w.titleIconRow},void 0,C):null)),[w,C,t,o,i]),x=(0,a.useMemo)((()=>s?r()(m.Z,{style:w.primaryActionButton,isLarge:!0,onClick:s.onClick,disabled:s.disabled,isRed:s.isRed},void 0,s.text):null),[s,w]),L=(0,a.useMemo)((()=>null==l?void 0:l.map(((e,t)=>a.createElement(p.Z,n()({},e,{key:t}))))),[l]),A=(0,a.useCallback)((e=>{e.preventDefault(),s&&!s.disabled&&s.onClick()}),[s]),I=S?r()("div",{style:w.error},void 0,S):void 0,Z=M?r()("div",{style:w.alert},void 0,M):void 0;return r()("form",{style:{...w.container,...b},onSubmit:A},void 0,k,r()("h2",{style:w.title},void 0,u),r()("div",{style:w.header},void 0,f),I,Z,v,x,L,r()("button",{style:w.hiddenButton}))}function y(e){return(0,d.EM)({container:{position:"relative",width:280,padding:16},topIconRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginBottom:4,width:"100%"},titleIconRow:{display:"flex",justifyContent:"center",marginBottom:15},dismissButton:{marginTop:-5,marginRight:-5,borderRadius:"50%",width:18,height:18,background:"light"===e.mode?l.FN.light.gray[75]:l.FN.dark.gray[400],display:"flex",justifyContent:"center",alignItems:"center",padding:0},dismissButtonHovered:{background:"light"===e.mode?l.FN.light.gray[100]:l.FN.dark.gray[500]},backButton:{marginTop:-5,marginLeft:-5,height:20,width:20,display:"flex",justifyContent:"center",alignItems:"center"},title:{fontWeight:u.Z.fontWeight.medium,fontSize:u.Z.fontSize.UIRegular.desktop,lineHeight:1.2,color:e.regularTextColor,marginTop:0,marginBottom:4,paddingLeft:10,paddingRight:10,textAlign:"center"},error:{color:l.ZP.red,width:"100%",marginBottom:8,textAlign:"center",fontSize:u.Z.fontSize.UISmall.desktop},alert:{color:l.ZP.red,width:"100%",marginBottom:10,textAlign:"center",fontSize:u.Z.fontSize.UISmall.desktop},header:{fontWeight:u.Z.fontWeight.regular,fontSize:u.Z.fontSize.UISmall.desktop,color:e.mediumTextColor,textAlign:"center",marginBottom:16,lineHeight:1.35},primaryActionButton:{width:"100%",margin:"15px auto 0"},hiddenButton:{display:"none"},backIcon:{width:14,height:14,fill:e.mediumIconColor},dismissIcon:{width:12,height:12,fill:e.mediumIconColor}})}},56839:(e,t,o)=>{o.d(t,{R$:()=>p,ZP:()=>f});var i=o(23174),n=o.n(i),s=o(67294),r=o(24405),a=o(72126),d=o(82990),l=o(5366),c=o(18514),g=o(68785),u=o(88175),m=o(73602),h=o(11898);const p=6;function f(e){let{isLoading:t,phoneNumber:o,errorMessage:i,resentStatus:d,resentAt:f,onDismiss:v,onBack:S,onVerifyCode:M,onResendLink:C}=e;window.__c={n:"MFAPromptSMSVerification"};const b=(0,r.yK)(y,[]),[w,k]=(0,s.useState)([]),x=n()(l.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeTitle",defaultMessage:"Verify phone number"}),L=s.createElement(s.Fragment,null,n()(l.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeHeader.default",defaultMessage:"Enter the code sent to {phoneNumber} to complete setup.",values:{phoneNumber:o}})," ",s.createElement(m.y,{resentAt:f,resentStatus:d,onResendLink:C})),A={text:t?n()(g.Z,{}):n()(l.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeButton",defaultMessage:"Verify code"}),onClick:()=>M(w.join("")),disabled:t||"resending"===d||(0,a.oA)(w).length!==p},I=[{text:n()(l.FormattedMessage,{id:"profileSettings.mfa.sms.verifyCodeNeedHelp",defaultMessage:"Need help?"}),href:(0,c.UY)("guides.mfa"),isExternal:!0,type:"link",view:"plain"}];return n()(u.Z,{title:x,header:L,errorMessage:i,primaryAction:A,secondaryActions:I,onDismiss:v,onBack:S,disableBackButton:t},void 0,n()("div",{style:b.body},void 0,n()(h.ZP,{numInputs:p,format:"settings",disabled:!1,value:w,onChange:k,autoFocus:!0,isValidKey:h.rN})))}function y(e){return(0,r.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:4},textCode:{fontWeight:d.Z.fontWeight.medium,fontSize:d.Z.fontSize.UIRegular.desktop,lineHeight:1.2,color:e.darkTextColor,marginTop:32,marginBottom:32,textAlign:"center"}})}},46600:(e,t,o)=>{o.d(t,{Z:()=>m});var i=o(23174),n=o.n(i),s=o(67294),r=o(24405),a=o(97880),d=o(82990),l=o(63296),c=o(85740),g=o(8848);function u(e){let{onClick:t,disabled:o,view:i,icon:s,isRed:a,href:d,isExternal:l,saveAs:c,style:u,children:m}=e;window.__c={n:"MFAPromptLink"};const h=(0,r.yK)((e=>({link:{userSelect:"none",WebkitUserSelect:"none",transition:"background 20ms ease-in",cursor:o?void 0:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",textDecoration:"none",borderRadius:4,height:"outline"===i?32:28,paddingLeft:Boolean(s)?6:"outline"===i?12:8,paddingRight:12,fontSize:14,lineHeight:1.2,color:a?g.O9.red:e.regularTextColor,..."outline"===i?{border:`1px solid ${a?e.outlineRedButtonBorder:e.outlineButtonBorder}`}:{},...u}})),[i,a,s,u,o]);return n()("a",{style:h.link,target:l?"_blank":void 0,href:d,download:c,onClick:t,rel:"noopener noreferrer"},void 0,m)}function m(e){window.__c={n:"MFAPromptSecondaryAction"};const{type:t,view:o,text:i,disabled:g,isRed:m,icon:h}=e,p=(0,r.yK)((e=>(0,r.EM)({secondaryActionBase:{width:"100%",margin:"8px auto 0",justifyContent:"center"},secondaryActionPlainButton:{width:"100%",margin:"8px auto 0",justifyContent:"center",fontWeight:d.Z.fontWeight.regular,fontSize:d.Z.fontSize.UIRegular.desktop,color:"button"===t?e.lightTextColor:e.regularTextColor},secondaryActionOutlineButton:{width:"100%",margin:"8px auto 0",justifyContent:"center",fontWeight:d.Z.fontWeight.regular,fontSize:d.Z.fontSize.UIRegular.desktop,color:"link"===t&&"outline"!==o||"plain"===o?e.lightTextColor:e.regularTextColor},secondaryActionIcon:{width:12,height:12,marginRight:4}})),[t,o]),f=m?p.secondaryActionBase:p.secondaryActionOutlineButton,y=n()(s.Fragment,{},void 0,h?h(p.secondaryActionIcon):null,i);if("button"===t){const t="outline"===o?l.Z:c.Z;return n()(t,{onClick:e.onClick,style:f,isRed:m,disabled:g},void 0,y)}if("link"===t)return n()(u,{onClick:e.onClick,view:o,isExternal:e.isExternal,icon:h,isRed:m,href:e.href,saveAs:e.saveAs,style:f,disabled:g},void 0,y);throw(0,a.t1)(t)}},18469:(e,t,o)=>{o.d(t,{R$:()=>h,ZP:()=>p});var i=o(23174),n=o.n(i),s=o(67294),r=o(24405),a=o(72126),d=o(82990),l=o(5366),c=o(18514),g=o(68785),u=o(88175),m=o(11898);const h=6;function p(e){let{isLoading:t,errorMessage:o,onDismiss:i,onBack:d,onVerifyCode:p}=e;window.__c={n:"MFAPromptTOTPVerification"};const y=(0,r.yK)(f,[]),[v,S]=(0,s.useState)([]),M=n()(l.FormattedMessage,{id:"profileSettings.mfa.totp.verifyCodeTitle",defaultMessage:"Verify code"}),C=n()(l.FormattedMessage,{id:"profileSettings.mfa.totp.verifyCodeHeader",defaultMessage:"Enter the one-time code from authenticator to complete setup."}),b={text:t?n()(g.Z,{}):n()(l.FormattedMessage,{id:"profileSettings.mfa.totp.verifyCodeButton",defaultMessage:"Verify code"}),onClick:()=>p(v.join("")),disabled:t||(0,a.oA)(v).length!==h},w=[{text:n()(l.FormattedMessage,{id:"profileSettings.mfa.totp.needHelp",defaultMessage:"Need help?"}),href:(0,c.UY)("guides.mfa"),isExternal:!0,type:"link",view:"plain"}];return n()(u.Z,{title:M,header:C,errorMessage:o,primaryAction:b,secondaryActions:w,onDismiss:i,onBack:d,disableBackButton:t},void 0,n()("div",{style:y.body},void 0,n()(m.ZP,{numInputs:h,format:"settings",disabled:t,value:v,onChange:e=>{S(e)},autoFocus:!0,isValidKey:m.rN})))}function f(e){return(0,r.EM)({body:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:16,marginBottom:4},textCode:{fontWeight:d.Z.fontWeight.medium,fontSize:d.Z.fontSize.UIRegular.desktop,lineHeight:1.2,color:e.darkTextColor,marginTop:32,marginBottom:32,textAlign:"center"}})}},73602:(e,t,o)=>{o.d(t,{y:()=>v});var i=o(10434),n=o.n(i),s=o(23174),r=o.n(s),a=o(67294),d=o(24405),l=o(77058),c=o(97880),g=o(82990),u=o(63143),m=o(5366),h=o(68785),p=o(26388),f=o(42402);const y=60*u.C0;function v(e){let{resentStatus:t,resentAt:o,onResendLink:i}=e;window.__c={n:"MFASMSVerificationResendText"};const s=(0,d.yK)(S,[]),[g,u]=(0,a.useState)((()=>Date.now()));(0,a.useEffect)((()=>{if(o+y>g){const e=setTimeout((()=>{u(Date.now())}),1e3);return()=>{clearTimeout(e)}}}),[o,u,g]);const v=Math.max(Math.floor((o+y-g)/1e3),0);if("not-resent"===t||"resent"===t&&0===v)return r()(m.FormattedMessage,{id:"mfa.sms.resend.resend.link",defaultMessage:"<resend>Resend</resend>",values:{resend:e=>r()(f.Z,{style:s.resendLink,disableUnderline:!0,onClick:i},void 0,e)}});if("resending"===t)return r()(m.FormattedMessage,{id:"mfa.sms.resend.sending.label",defaultMessage:"<sending>Sending</sending>",values:{sending:e=>a.createElement(a.Fragment,null,e,r()(h.Z,{style:s.loading}))}});if("resent"===t)return r()(p.Z,{placement:p.Z.Placement.Bottom,renderTooltip:()=>r()(m.FormattedMessage,{id:"mfa.sms.resend.resent.tooltip",defaultMessage:"You can send a code again in {resendTimeout} seconds",values:{resendTimeout:v}}),render:e=>a.createElement("span",n()({},e,{style:s.resent}),r()(m.FormattedMessage,{id:"mfa.sms.resend.resent.message",defaultMessage:"<resent>Resent</resent>",values:{resent:e=>a.createElement(a.Fragment,null,e,(0,l.$)(s.checkmark))}}))});throw(0,c.t1)(t)}function S(e){return(0,d.EM)({resendLink:{fontWeight:g.Z.fontWeight.medium,color:e.blueColor},checkmark:{width:12,height:12,display:"inline",verticalAlign:"middle",marginLeft:2,color:"green"},resent:{userSelect:"none",WebkitUserSelect:"none"},loading:{width:12,height:12,display:"inline",verticalAlign:"middle",marginLeft:2}})}},11898:(e,t,o)=>{o.d(t,{ZP:()=>f,rN:()=>p});var i=o(10434),n=o.n(i),s=o(23174),r=o.n(s),a=o(67294),d=o(480),l=o(24405),c=o(8848),g=o(72126),u=o(97880),m=o(71119),h=o(56171);const p=e=>e>="0"&&e<="9";function f(e){let{numInputs:t,disabled:o,value:i,format:n,onChange:s,autoFocus:d,isValidKey:u}=e;window.__c={n:"MFAVerificationSingleInput"};const m=(0,l.yK)((e=>function(e,t){return(0,l.EM)({inputRow:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between"},cell:{display:"flex",alignItems:"center",justifyContent:"center",width:"login"===t?40:33,height:44,paddingLeft:0,paddingRight:0,fontSize:18,background:"light"===e.mode?c.ZP.transparent:e.inputBackground,lineHeight:"20px",borderRadius:4,boxShadow:e.inputBoxShadow},focusedCell:{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},cellInput:{textAlign:"center",color:e.darkTextColor},hiddenInput:{position:"absolute",top:"0",left:"0",height:"100%",width:"100%",opacity:0}})}(e,n)),[n]),[h,p]=(0,a.useState)(void 0),f=(0,a.useMemo)((()=>(0,g.DZ)(t,(e=>{const o=void 0!==h&&(h.selectionStart<=e&&e<=h.selectionEnd||e===t-1&&h.selectionStart>=t),n={...m.cell,...o?m.focusedCell:{}};return r()("div",{style:n},void 0,r()("div",{style:m.cellInput},void 0,i[e]||""))}))),[t,h,m,i]),v=(0,a.useMemo)((()=>r()(y,{value:i,cursor:h,isValidCharacter:u,disabled:o,maxLength:{limit:t,method:"replaceLast"},onSetValue:s,onSetCursor:p,autoFocus:d,style:m.hiddenInput})),[t,u,s,p,d,m,i,h,o]);return r()("div",{style:{position:"relative"}},void 0,v,r()("div",{style:m.inputRow},void 0,f))}function y(e){let{isValidCharacter:t,cursor:o,value:i,maxLength:s,onSetCursor:r,onSetValue:l,style:c,autoFocus:p,disabled:f}=e;window.__c={n:"FilteredInput"};const y=(0,a.useRef)(null),v=(0,d.Fy)();(0,a.useEffect)((()=>{const e=y.current;if(e){const{selectionStart:t,selectionEnd:i}=e;if(o&&o.selectionStart!==t&&o.selectionEnd!==i){const t=document.createRange();t.selectNode(e),h.set(t,v),e.setSelectionRange(o.selectionStart,o.selectionEnd)}}}),[y,o,i,v]);const S=(0,a.useCallback)(((e,o)=>{const i=o.filter(t);if(void 0===s)return i;if(i.length<=s.limit)return i;const n=e.slice(0,s.limit),r=i.slice(0,s.limit);if("truncate"!==s.method&&(0,g.Xy)(n,r)){if("replaceLast"===s.method){return[...i.slice(0,s.limit-1),...i.slice(-1)]}return(0,u.t1)(s.method)}return r}),[t,s]),M=(0,a.useCallback)((e=>{const{selectionStart:t,selectionEnd:o}=e.target;null!==t&&null!==o&&r({selectionStart:t,selectionEnd:o})}),[r]),C=(0,a.useCallback)((e=>{"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||M(e)}),[M]),b=(0,a.useCallback)((e=>{const{selectionStart:t,selectionEnd:o}=e.target,n=Array.from(e.target.value),a=S(i,n);if(null!==t&&null!==o){const e=Math.min(n.length,(null==s?void 0:s.limit)??1/0)-a.length;r({selectionStart:t-e,selectionEnd:o-e})}else r(void 0);l(a)}),[r,l,i,S,s]),w=(0,a.useCallback)((e=>{const t=e.clipboardData;if(t&&t.getData){const o=t.getData("text"),i=Array.from(o),n=S([],i);r({selectionStart:n.length,selectionEnd:n.length}),l(n),e.preventDefault()}}),[S,l,r]);return a.createElement("input",n()({onChange:b,onBlur:()=>{r(void 0)},onFocus:M,onPaste:w,disabled:f,autoFocus:p,type:"text",inputMode:"numeric",pattern:"[0-9]*",onKeyUp:C,ref:y,value:i.join(""),style:c},m.pf))}},49682:(e,t,o)=>{o.d(t,{Q3:()=>l,Qj:()=>a,to:()=>d});var i=o(23174),n=o.n(i),s=(o(67294),o(97880)),r=o(5366);const a={unexpectedError:n()(r.FormattedMessage,{id:"general.mfa.error.unexpectedError",defaultMessage:"Something went wrong, please try again."}),smsIncorrectCode:n()(r.FormattedMessage,{id:"general.mfa.error.incorrectSMSCode",defaultMessage:"The code didnâ€™t work, try typing it again or resend code."}),smsInvalidCountryCode:n()(r.FormattedMessage,{id:"general.mfa.error.smsInvalidCountryCode",defaultMessage:"The country code is not valid."}),smsInvalidPhoneCode:n()(r.FormattedMessage,{id:"general.mfa.error.smsInvalidPhoneNumber",defaultMessage:"The phone number is not valid."}),smsEmptyPhoneNumber:n()(r.FormattedMessage,{id:"general.mfa.error.smsEmptyPhoneNumber",defaultMessage:"Phone number cannot be empty."}),smsAlreadyVerifiedPhoneNumber:n()(r.FormattedMessage,{id:"general.mfa.error.smsAlreadyVerifedPhoneNumber",defaultMessage:"This phone number has already been verified."}),smsUnsupportedPhoneNumber:e=>n()(r.FormattedMessage,{id:"general.mfa.error.unsupportedPhoneNumber",defaultMessage:"SMS authentication is currently not available in {countryName}. You may consider using an authenticator app as an alternative authentication method.",values:{countryName:e}}),totpIncorrectCode:n()(r.FormattedMessage,{id:"general.mfa.error.incorrectTOTPCode",defaultMessage:"The code didnâ€™t work, try typing it again."}),totpEmptyFriendlyName:n()(r.FormattedMessage,{id:"general.mfa.error.totpEmptyFriendlyName",defaultMessage:"Authenticator name cannot be empty."}),totpDuplicateFriendlyName:n()(r.FormattedMessage,{id:"general.mfa.error.totpDuplicateFriendlyName",defaultMessage:"Authenticator name is already in use."}),totpBadFriendlyName:n()(r.FormattedMessage,{id:"general.mfa.error.totpBadFriendlyName",defaultMessage:"Authenticator name cannot be used."}),backupCodeIncorrectCode:n()(r.FormattedMessage,{id:"general.mfa.error.incorrectBackupCode",defaultMessage:"The backup code didnâ€™t work, try typing it again or use a different one."}),incorrectPassword:n()(r.FormattedMessage,{id:"general.mfa.error.incorrectPassword",defaultMessage:"Incorrect password."})},d={passwordResentLinkSent:e=>n()(r.FormattedMessage,{id:"general.mfa.passwordResentLinkSent",defaultMessage:"A password reset link has been sent to {email}.",values:{email:e}})};function l(e){switch(e){case"totp":return a.totpIncorrectCode;case"sms":return a.smsIncorrectCode;case"backup_code":return a.backupCodeIncorrectCode;default:throw(0,s.t1)(e)}}},16010:(e,t,o)=>{o.d(t,{o:()=>l});var i=o(86628),n=o(92785),s=o(91155),r=o(33954),a=o(33929),d=o(49682);class l{constructor(e,t){this.debugName=void 0,this.store=void 0,this.handleUnexpectedError=e=>{const t={...this.store.getState()};if("object"==typeof e&&null!==e){const o=e,{body:i,error:l,data:c}=o;let g;if(i)g=i;else if(c){g=c.responseBody}if(g){if("object"==typeof g&&null!==g){const e=g,{clientData:o}=e;if(o){const e=o,i=(0,r.mH)(e);if(i){const e=a.default.getIntl();this.store.setState({...t,error:e.formatMessage(i)})}}}}else n.log({level:"error",from:this.debugName,type:"handleUnexpectedError",error:(0,s.Ui)(l)}),this.store.setState({...t,error:d.Qj.unexpectedError})}else this.store.setState({...t,error:d.Qj.unexpectedError})},this.store=e,this.debugName=t}getState(){return this.store.getState()}getCurrentStep(){return this.store.getState()}useCurrentStep(){const[e]=(0,i.AF)(this.store);return e}async withStep(e,t){const o=this.store.getState();if(!(Array.isArray(e)?e.includes(o.step):o.step===e))return;const i=await t(o),n=this.store.getState();return n.step===o.step?{result:i,state:n}:void 0}checkStep(e){const t=this.store.getState();if(Array.isArray(e)?e.includes(t.step):t.step===e)return t}}},71119:(e,t,o)=>{o.d(t,{UG:()=>l,cR:()=>c,pf:()=>d,pu:()=>g});var i=o(97880),n=o(5366),s=o(54642),r=o(33929);const a=(0,n.defineMessages)({sms:{id:"mfaMethod.sms",defaultMessage:"SMS"},totp:{id:"mfaMethod.totp",defaultMessage:"Authenticator"},backupCode:{id:"mfaMethod.backupCode",defaultMessage:"Backup code"}}),d={"data-1p-ignore":"true","data-lpignore":"true"};function l(e){const t=["totp","sms","backup_code"];return e.sort(((e,o)=>{const i=t.indexOf(e.mfaMethod),n=t.indexOf(o.mfaMethod);return i===n?e.createdAt-o.createdAt:i-n}))}function c(e){switch(e){case"sms":return r.default.formatMessage(a.sms);case"totp":return r.default.formatMessage(a.totp);case"backup_code":return r.default.formatMessage(a.backupCode);default:(0,i.t1)(e)}}async function g(e){const t=await s.authGetLoginConfiguration(e,{});if("success"===t.type){const e=t.data,o="required"!==e.samlSignIn&&e.hasAccount&&e.passwordSignIn,i="required"===e.samlSignIn,n="required"!==e.samlSignIn&&e.hasAccount&&e.mfaOptions.length>0,s=o&&!i?n?"on":"off":"disabled",r=e.mfaOptions.find((e=>"backup_code"===e.mfaMethod));return{hasPassword:o,canConfigurePassword:!i,isSamlEnforced:i,mfaStatus:s,numMfaSettings:e.mfaOptions.length,regenerateBackupCodes:void 0===r&&"on"===s}}throw t.error}},81864:(e,t,o)=>{o.d(t,{X:()=>s});var i=o(23174),n=o.n(i);o(67294);const s=(0,o(45238).I)("authenticatorCode",{viewBox:"0 0 18 15",svg:n()("path",{d:"M8.65979 0.00292969C5.26917 0.00292969 2.39807 2.45703 1.74182 5.67676H0.777954C0.244751 5.67676 0.108032 6.07324 0.401978 6.47656L2.05627 8.77344C2.2887 9.09473 2.64417 9.08789 2.86975 8.77344L4.52405 6.46973C4.81116 6.08008 4.67444 5.67676 4.14807 5.67676H3.17053C3.77893 3.20898 5.99377 1.39746 8.65979 1.39746C10.4987 1.4043 12.1051 2.25879 13.1373 3.6123C13.4108 3.93359 13.8073 4.03613 14.1422 3.79688C14.4567 3.57812 14.5114 3.13379 14.2174 2.77148C12.9528 1.12402 10.8815 0.00292969 8.65979 0.00292969ZM8.40686 3.09961C8.07874 3.09961 7.81213 3.36621 7.81213 3.69434V7.41309C7.81213 7.57031 7.86682 7.7207 7.98303 7.87793L9.61682 10.0312C9.86292 10.3525 10.2115 10.4072 10.5055 10.1953C10.7858 10.0039 10.8063 9.6416 10.5944 9.34766L9.00159 7.20801V3.69434C9.00159 3.36621 8.73499 3.09961 8.40686 3.09961ZM8.65979 14.126C12.0573 14.126 14.9283 11.6719 15.5778 8.45898H16.5416C17.0817 8.45898 17.2115 8.05566 16.9244 7.65234L15.2633 5.35547C15.0377 5.04102 14.6823 5.04102 14.4567 5.35547L12.8024 7.65918C12.5153 8.04883 12.652 8.45898 13.1783 8.45898H14.1627C13.5475 10.9199 11.3258 12.7383 8.65979 12.7383C6.82776 12.7314 5.22131 11.8701 4.18909 10.5166C3.91565 10.1953 3.51917 10.0928 3.1842 10.332C2.86975 10.5576 2.80823 10.9951 3.10901 11.3574C4.37366 13.0117 6.44495 14.126 8.65979 14.126Z"})})},39186:(e,t,o)=>{o.d(t,{G:()=>s});var i=o(23174),n=o.n(i);o(67294);const s=(0,o(45238).I)("backward",{viewBox:"0 0 24 24",svg:n()("polygon",{points:"23,11 4.801,11 11.4,4.4 10,3 1,12 10,21 11.4,19.6 4.801,13 23,13 "})})},77058:(e,t,o)=>{o.d(t,{$:()=>s});var i=o(23174),n=o.n(i);o(67294);const s=(0,o(45238).I)("checkmark",{viewBox:"0 0 20 20",svg:n()("path",{d:"M10.0693 18.166C14.7759 18.166 18.6606 14.2812 18.6606 9.58301C18.6606 4.88477 14.7676 1 10.061 1C5.36279 1 1.48633 4.88477 1.48633 9.58301C1.48633 14.2812 5.37109 18.166 10.0693 18.166ZM9.13965 13.6836C8.82422 13.6836 8.56689 13.5508 8.33447 13.2437L6.30078 10.7783C6.15137 10.5874 6.07666 10.3965 6.07666 10.189C6.07666 9.75732 6.41699 9.40869 6.84863 9.40869C7.10596 9.40869 7.30518 9.5 7.521 9.77393L9.11475 11.791L12.5347 6.3125C12.7173 6.02197 12.9497 5.88086 13.2153 5.88086C13.6387 5.88086 14.0205 6.17139 14.0205 6.61133C14.0205 6.80225 13.9209 7.00977 13.8047 7.19238L9.91162 13.2437C9.729 13.5342 9.45508 13.6836 9.13965 13.6836Z"})})},94900:(e,t,o)=>{o.d(t,{u:()=>s});var i=o(23174),n=o.n(i);o(67294);const s=(0,o(45238).I)("textMessage",{viewBox:"0 0 16 14",svg:n()("path",{d:"M4.97217 13.4883C5.32764 13.4883 5.59424 13.3169 6.02588 12.936L8.20312 11.0063H12.0435C13.9541 11.0063 15.0269 9.91455 15.0269 8.0293V3.10352C15.0269 1.21826 13.9541 0.126465 12.0435 0.126465H3.9502C2.03955 0.126465 0.966797 1.21826 0.966797 3.10352V8.0293C0.966797 9.91455 2.06494 11.0063 3.90576 11.0063H4.16602V12.5742C4.16602 13.1392 4.46436 13.4883 4.97217 13.4883ZM5.2832 12.0918V10.2827C5.2832 9.9082 5.12451 9.76221 4.7627 9.76221H3.98193C2.78223 9.76221 2.21094 9.15918 2.21094 7.99121V3.1416C2.21094 1.97363 2.78223 1.37061 3.98193 1.37061H12.0054C13.2051 1.37061 13.7827 1.97363 13.7827 3.1416V7.99121C13.7827 9.15918 13.2051 9.76221 12.0054 9.76221H8.1333C7.75244 9.76221 7.56201 9.82568 7.29541 10.105L5.2832 12.0918ZM6.47656 7.04541C7.94922 8.51807 9.81543 9.45117 10.9199 8.34668C10.9644 8.30225 10.9961 8.26416 11.0342 8.21973C11.3071 7.896 11.396 7.47705 11.0215 7.19775C10.7168 6.97559 10.4058 6.75342 9.91064 6.41064C9.52979 6.15039 9.29492 6.22021 9.01562 6.49316L8.76807 6.74072C8.69189 6.81055 8.57129 6.8042 8.48877 6.75342C8.2666 6.62012 7.89844 6.32178 7.54297 5.97266C7.2002 5.62988 6.88916 5.24268 6.76855 5.0332C6.72412 4.96338 6.69238 4.84912 6.78125 4.7666L7.02246 4.50635C7.30811 4.20801 7.37158 3.98584 7.10498 3.61133L6.33057 2.51318C6.07031 2.14502 5.68945 2.2085 5.25781 2.52588C5.22607 2.55127 5.20068 2.57666 5.17529 2.5957C4.06445 3.70654 5.00391 5.57275 6.47656 7.04541Z"})})},1799:(e,t,o)=>{o.d(t,{A:()=>i,K:()=>n});const i="XXXX-XXXX";function n(e){return e.replace(/[^a-z0-9A-Z]/g,"").replace(/^(.{4})/,"$1-")}}}]);